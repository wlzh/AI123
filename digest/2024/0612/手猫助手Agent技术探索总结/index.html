

<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="theme-color" content="#f9f9f9" />

	<title>手猫助手Agent技术探索总结 作者： 计算机科学与技术研究员 来源： 计算机科学与技术研究员 随着LLM的发展，ChatGPT能力不断增强，AI不断有新的概念提出，一种衍生类型的应用AI Agent也借着这股春风开启了一波话题热度，各种初创公司，包括Open AI内部也都在密切关注  | AI123| ai工具网址导航,ai最新产品</title>
	<link rel="shortcut icon" href="/assets/images/favicon.png" />
    <meta name="keywords" content="chatgpt,AI,AI聊天,AI文本生成,AI绘画,AI编程,AI电商" />
    <meta name="description" content="AI123 网址导航 | 免费chatgpt 汇集各类先进的人工智能产品，旨在帮助用户更快速地了解和使用这些产品,轻松地浏览不同领域的AI产品，包括语音识别、图像处理、自然语言处理。" />
    
    <meta name="baidu-site-verification" content="codeva-cCAOSG8MBO" />
    
    <link rel="stylesheet" id="block-library-css"
        href="/assets/css/block-library.min-5.6.2.css" type="text/css" media="all" />
    <link rel="stylesheet" id="iconfont-css" href="/assets/css/iconfont-3.03029.1.css"
        type="text/css" media="all" />

    
    <link href="/scss/style.min.css" rel="stylesheet" />
    
		    <link rel="stylesheet" id="iowen-css" href="/assets/css/style-3.03029.1.css"
        type="text/css" media="all" />
    <link rel="stylesheet" id="custom-css" href="/assets/css/custom-style.css"
        type="text/css" media="all" />
		
		<link rel="stylesheet" href=/plugins/font-awesome/css/font-awesome.min.css />


    <link rel="stylesheet" id="fortawesome-css" href="/assets/fontawesome-5.15.4/css/all.min.css" type="text/css" />


    <script type="text/javascript" src="/assets/js/jquery.min-3.2.1.js" id="jquery-js"></script>
    <script type="text/javascript" src="/assets/js/content-search.js"  id="content-search-js"></script>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2073588164294660"
     crossorigin="anonymous"></script>

	
    <script>
        

		var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?8450bc732b2a86f7e4aec4ebd9fd8252";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();

        
    </script>
    

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7071W80M2K"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-7071W80M2K');
    </script>

</head>


    <div class="page-container">
	
	<div id="sidebar" class="sticky sidebar-nav fade animate-nav" style="width: 170px">
        
            <div class="modal-dialog h-100 sidebar-nav-inner">
                <div class="sidebar-logo border-bottom border-color">
                    
                    <div class="logo overflow-hidden">
                        <a href="https://ai123.869hr.uk/" class="logo-expanded">
                            <img src="/assets/images/bt8-expand-light.png" height="40" class="logo-light"
                                alt="AI123| ai工具网址导航,ai最新产品">
                            <img src="/assets/images/bt8-expand-dark.png" height="40" class="logo-dark d-none"
                                alt="AI123| ai工具网址导航,ai最新产品">
                        </a>
                        <a href="https://ai123.869hr.uk/" class="logo-collapsed">
                            <img src="/assets/images/bt.png" height="40" class="logo-light"
                                alt="AI123| ai工具网址导航,ai最新产品">
                            <img src="/assets/images/bt.png" height="40" class="logo-dark d-none"
                                alt="AI123| ai工具网址导航,ai最新产品">
                        </a>
                    </div>
                    
                </div>
                <div class="sidebar-menu flex-fill">
                    <div class="sidebar-scroll">
                        <div class="sidebar-menu-inner">
                            <ul>
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#00834a9dd147b04c5d53d4368cdb0b57" class="smooth">
                                            <i class="fas fa-sun fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>本月热门</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#db0311e7ecfedd24d157f0ceb4a0897f" class="smooth">
                                            <i class="fas fa-star-and-crescent fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>热门网站</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#21b5cbb2c769010fec3ce029a5f8a4a3" class="smooth">
                                            <i class="far fa-star fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>国内热门</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#8310718935e8ec25ce0350de01e3f7dc" class="smooth">
                                            <i class="fas fa-phone fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>对话工具</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#d58e850d9115797306c2edf61ac6ddd8" class="smooth">
                                            <i class="fas fa-newspaper fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>写作</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#2a7418a5f8f1ca4e054364a9300657df" class="smooth">
                                            <i class="fas fa-image fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>图像生成</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#7808a68ee1b34dab43011429a12de19e" class="smooth">
                                            <i class="fas fa-image fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>图像处理</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#6729afc51f5ac49a828812fa0eb0c82f" class="smooth">
                                            <i class="fas fa-video fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>音视频</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#e5ce844860451fff3faf3d8f8894971d" class="smooth">
                                            <i class="fas fa-music fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>音乐生成</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#db53804b7d726967c58fcc8c9ca03d27" class="smooth">
                                            <i class="fas fa-language fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>办公</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#47b7af9547e034d28fe6f6d439968ac8" class="smooth">
                                            <i class="fas fa-copy fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>提示词</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#41282bf95e43c64d579757573a03cdde" class="smooth">
                                            <i class="fas fa-code fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>编程</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#fd71852fd52d5e18ef4f9a252f1eac58" class="smooth">
                                            <i class="fas fa-search fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>AI搜索</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#81b1637fbe47625dbdf2094acd3b6683" class="smooth">
                                            <i class="fas fa-language fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>文本翻译</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#2e9ba3fa6e1ed0e9311b3e97f97f9a40" class="smooth">
                                            <i class="fas fa-book fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>学习网站</span>
                                        </a>
                                    </li>
                                    
                                
                            </ul>           
                        </div>
                    </div>
                </div>
                <div class="border-top py-2 border-color">
                    <div class="flex-bottom">
                        <ul>
			    <li id="menu-item-212"
                                 class="menu-item menu-item-type-custom menu-item-object-custom menu-item-212 sidebar-item">
                                 <a href="#friendlink" class="smooth">
                                     <i class="fab fa-staylinked icon-fw icon-lg mr-2"></i>
                                     <span>友情链接</span>
                                 </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>


<div class="flex-fill grid-bg">
    <div class="big-header-banner">
        <div id="header" class="page-header sticky">
            <div class="navbar navbar-expand-md">
                <div class="container-fluid p-0">

                    <a href="" class="navbar-brand d-md-none" title="AI123| ai工具网址导航,ai最新产品">
                        <img src="/assets/images/bt.png" class="logo-light"
                            alt="AI123| ai工具网址导航,ai最新产品">
                        <img src="/assets/images/bt.png" class="logo-dark d-none"
                            alt="AI123| ai工具网址导航,ai最新产品">
                    </a>

                    <div class="collapse navbar-collapse order-2 order-md-1">
                        <div class="header-mini-btn">
                            <label>
                                <input id="mini-button" type="checkbox">
                                <svg viewbox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                                    <path class="line--1" d="M0 40h62c18 0 18-20-17 5L31 55"></path>
                                    <path class="line--2" d="M0 50h80"></path>
                                    <path class="line--3" d="M0 60h62c18 0 18 20-17-5L31 45"></path>
                                </svg>
                            </label>

                        </div>

                        <ul class="navbar-nav site-menu" style="margin-right: 16px;">
                        
			<li >
				<a href="/">
                                    <i class="fa fa-home fa-lg mr-2"></i>
                                    <span>首页</span>
                                </a>
				<ul class="sub-menu">
				
				</ul>
			    </li>
			
			</ul>

                        
                        <div class="rounded-circle weather">
                            <div id="he-plugin-simple" style="display: contents;"></div>
                            <script>WIDGET = {
                                    CONFIG: {
                                        "modules": "01234",
                                        "background": 5,
                                        "tmpColor": "008000",
                                        "tmpSize": 14,
                                        "cityColor": "008000",
                                        "citySize": 14,
                                        "aqiColor": "#008000",
                                        "aqiSize": 14,
                                        "weatherIconSize": 24,
                                        "alertIconSize": 18,
                                        "padding": "10px 10px 10px 10px",
                                        "shadow": "1",
                                        "language": "auto",
                                        "borderRadius": 5,
                                        "fixed": "false",
                                        "vertical": "middle",
                                        "horizontal": "left",
                                        "key": "085791e805a24491b43b06cf58ab31e7"
                                    }
                                }
                            </script>
                            <script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script>
                        </div>
                        
                    </div>

                    <ul class="nav navbar-menu text-xs order-1 order-md-2">
                        
                        
                        <li class="nav-item mr-3 mr-lg-0 d-none d-lg-block">
                            <script>
                                fetch('https://v1.hitokoto.cn')
                                    .then(response => response.json())
                                    .then(data => {
                                    const hitokoto = document.getElementById('hitokoto_text')
                                    hitokoto.href = 'https://hitokoto.cn/?uuid=' + data.uuid
                                    hitokoto.innerText = data.hitokoto
                                    })
                                    .catch(console.error)
                            </script>                           
                            <div id="hitokoto"><a href="#" target="_blank" id="hitokoto_text">疏影横斜水清浅，暗香浮动月黄昏。</a></div>
                        </li>
                        
                        
                        <li class="nav-search ml-3 ml-md-4">
                            <a href="javascript:" data-toggle="modal" data-target="#search-modal"><i
                                    class="iconfont icon-search icon-2x"></i></a>
                        </li>
                        <li class="nav-item d-md-none mobile-menu ml-3 ml-md-4">
                            <a href="javascript:" id="sidebar-switch" data-toggle="modal"
                                data-target="#sidebar"><i class="iconfont icon-classification icon-2x"></i></a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="placeholder" style="height:74px"></div>
    </div>




<body class="page-body boxed-container  io-grey-mode">
    <main role="main" class="flex-shrink-0">
    <div class="container">
        
        <div class="content">
            <style>
    body{
	    background: #f9f9f9;
	}

    h1, h2, h3, h4, h5, h6 {
        margin-top: 1.5rem;
        margin-bottom: 1.5rem;
    }


 
@media (min-width: 1000px) {
  .container, .container-sm {
    max-width: 800px;
  }
}

</style>

<div class="featured-post-content">

    <a href="/digest/" class="featured-post-title">
       AI 文摘
    </a>

</div>

<section class="blog-single">
  <div class="container">
    <div class="row">

      <div class="col-lg-12 order-1 order-lg-2">
        <article class="single-blog">
          <p class="title">手猫助手Agent技术探索总结</p>
            <br/>
          <ul class="meta">
            <li>
              By <a href=https://ai123.869hr.uk/about>AI123</a>
            </li>
            <li>
              <i class="fa fa-clock-o"></i>
              June 12, 2024 - 2 min read
            </li>
          </ul>

          <div class="_1NCGf">
              <img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/33P2FdAnju9Dxd3uaMtITNPIBsKNIbEd0FibicscQLHGicVvyVZNuiaZEAmDXrbv48R9z08IT9SA6bfs8oSAXxEtJA/640?wx_fmt=png&amp;from=appmsg" width="640" >
          </div>
            <br>
            <br>
            <br>
          
          <div class="single-blog-content">
            <p>作者： 计算机科学与技术研究员  来源： <a href="https://mp.weixin.qq.com/s/XRqWsnZh1t-8gabbCh7CtA">计算机科学与技术研究员</a></p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_gif/33P2FdAnju8wR6tAicOeT6zeXrYH5MAzz2tSeQeje01Wib7IrWTbaIDF3I7NiaH4wV9FNQqiaQTiawcriaQtZjF3pAbg/640?wx_fmt=gif&amp;wxfrom=5&amp;wx_lazy=1&amp;tp=webp" alt=""></p>
<p>随着LLM的发展，ChatGPT能力不断增强，AI不断有新的概念提出，一种衍生类型的应用AI Agent也借着这股春风开启了一波话题热度，各种初创公司，包括Open AI内部也都在密切关注着AI Agent领域的变化。阿里集团内的AI团队也有很多基于Agent的尝试，Xlangchain和阿里LangEngine有很多Agent的例子，手猫端在过去一年中始关注AI技术动向，不断在手猫端上做面向用户的AI产品尝试，也结合结合Agent技术结合购物组手业务做探索。本文就手猫在探索Agent能力和智能助手业务结合过程、技术侧遇到的问题、想法和实践做简单总结，欢迎大家一起讨论、交流意见。</p>
<h4 id="heading"></h4>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/33P2FdAnju9ktXcOebovS1SbeNE5Nc6ROCUABskFSIhpDnV6snAu0BaEwUuywlUnf5dkQLtKUpwOmg9WlYwOWw/640?wx_fmt=other&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1&amp;tp=webp" alt=""></p>
<p>什么是Agent？</p>
<p>OpenAI应用研究主管Lilian Weng在一篇长文中提出了Agent = LLM（大型语言模型）+记忆+规划技能+工具使用这一概念。AI Agent需要具备感知环境、做出决策并执行适当行动的能力。在这些关键步骤中，最重要的是理解输入给Agent的内容、进行推理、规划、做出准确决策，并将其转化为可执行的原子动作序列，以实现最终目标。</p>
<p>一个精简的Agent决策流程：感知（Perception）→ 规划（Planning）→ 行动（Action）</p>
<ul>
<li>
<p>感知（Perception）是指Agent从环境中收集信息并从中提取相关知识的能力。</p>
</li>
<li>
<p>规划（Planning）是指Agent为了某一目标而作出的决策过程。</p>
</li>
<li>
<p>行动（Action）是指基于环境和规划做出的动作。</p>
</li>
</ul>
<p>Agent通过感知从环境中收集信息并提取相关知识。然后通过规划为了达到某个目标做出决策。最后，通过行动基于环境和规划做出具体的动作。Planning是Agent做出行动的核心决策，而行动又为进一步感知提供了观察的前提和基础，形成了一个自主的闭环学习过程。</p>
<p>借用网上的一个案例来解释agent的执行：</p>
<pre><code>1. 当一个人问Agent是否会下雨时，感知模块将指令转换为LLM可以理解的表示。


2. 然后，大脑模块开始根据当前天气和互联网上的天气预报进行推理。


3. 最后，动作模块做出响应，将伞交给人类。
</code></pre>
<p>通过重复上述过程，智能体可以不断地获得反馈并与环境进行交互。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/33P2FdAnju9Dxd3uaMtITNPIBsKNIbEdmsTl00X4nEHteDvdczgIt7CFibcdqGZrY8nicDNVjGaEnHtkLhOM7rMg/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p>在以LLM驱动的Agent系统中，LLM扮演着Agent的大脑角色，并辅以几个关键组件：</p>
<ul>
<li>
<p>规划：LLM能够进行全面的规划，不仅仅是简单的任务拆分。它可以评估不同的路径和策略，制定最佳的行动计划，以实现用户给出的目标。</p>
</li>
<li>
<p>记忆：可以利用LLM具有的记忆功能，存储和检索过去的信息和经验。这使得它能够在处理用户查询时，利用之前学到的知识和经验，提供更准确和个性化的答案。</p>
</li>
<li>
<p>工具使用：LLM通过理解工具的描述，来学习使用各种工具和资源，并灵活运用它们来支持任务的完成，在构建Agent的时候可以让Agent感知自己可以使用什么工具。工具的实现可以是利用搜索引擎、数据库、调用API等，获取和整理相关信息，以满足用户的需求。</p>
</li>
</ul>
<p>这里关于Agent不过多介绍，网上关于Agent的文章很多，感兴趣的可以查看这几位大神的文章了解Agent的更多知识：</p>
<p>Agents 能力解密：</p>
<p><a href="https://blog.csdn.net/youyi300200/article/details/132864191">https://blog.csdn.net/youyi300200/article/details/132864191</a></p>
<p>AI Agent到底是什么：</p>
<p><a href="https://zhuanlan.zhihu.com/p/681639504">https://zhuanlan.zhihu.com/p/681639504</a></p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/33P2FdAnju9ktXcOebovS1SbeNE5Nc6RIOKKwicFicPcOvvalDPb2yXHR6MlMfMjmcAeMbYsJuIUz6DsibHFeMsXg/640?wx_fmt=other&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1&amp;tp=webp" alt=""></p>
<p>手猫端智能体业务探索</p>
<p>了解了Agent的概念后，结合手猫在做的智能助手相关探索，PD希望把Agent技术与智能助手业务结合起来做用户侧的创新。PD希望在手猫APP中可以提供一个交互页面，可以使用LLM智能体的自然语言理解能力、思维规划能力、工具使用等能力，直接理解用户输入的需求，然后通过Agent规划能力，决策出实现用户述求的行动路径，并调用智能体对应的工具实现用户需求，最后把结果展示在页面上，解决用户述求。先看做出来的demo版本的视频，再在来介绍整体的思路。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/33P2FdAnju9Dxd3uaMtITNPIBsKNIbEdlOe967yFEV5eWr2vaA6qH4VD1XxhR929uHI7td5DCTqcTuTSUK4I4w/640?wx_fmt=png&amp;from=appmsg" alt=""><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/33P2FdAnju9Dxd3uaMtITNPIBsKNIbEdvnWRgBtgEUTq8lj63SrNeL0DYOTfESFjdR41iaYJl89K3L2iauCGzSmg/640?wx_fmt=png&amp;from=appmsg" alt=""><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/33P2FdAnju9Dxd3uaMtITNPIBsKNIbEdKRndJia21pFpDqicRgHiccJVicWjCIDWhs8Be8Dgq7QRlkw1vKbK13LV0Q/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p>结合下图的工程侧实现方案，串联整个链路大致做了以下几件事情：</p>
<ol>
<li>
<p>搭建端到LLM直接信息传输链路，完成工程侧业务管理能力建设。</p>
</li>
<li>
<p>搭建用户会话管理、多场景识别、链路分发机制。</p>
</li>
<li>
<p>完成Agent模版到工具协议串联，把工具抽象化、按照协议“喂”给tpp Agent模版工程，完成Agent的使用工具的动态构建和在线灵活管理。</p>
</li>
<li>
<p>完成Agent工具抽象模版化建设以及工具描述的步步调优，提升Agent整体链路规划准确性。</p>
</li>
<li>
<p>完成工具&amp;LLM输出到端展示的视图层转换，页面流式协议引入，提升端上输出稳定性。</p>
</li>
</ol>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/33P2FdAnju9Dxd3uaMtITNPIBsKNIbEdBDyarJ8JVIvChHsTDLxblicKxiaZhbpg2yzYWQJ67GxtyRaPicHYfOTicA/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p>####<strong>▐</strong>****<strong>端展示方案</strong></p>
<p>Agent方案中，LLM有理解工具描述、区分工具使用场景的能力，可以按照工具的约定，将指定的参数结构化的输入到接口内部，总结下来我们LLM能力解决了<strong>人类非结构化语言到工具结构化输入</strong> 的问题。但是现在手猫APP端页面的展示，都需要转化为非常复杂的结构化数据结构才行，经过测试LLM输出复杂结构化展示数据的稳定性非常的差，面对复杂的页面展示逻辑，至少现在无法达到面向C端用户放开的标准。因为业务产品是无法容忍对线上用户透出内容的不确定性，所以解决<strong>LLM非结构化输出到端上结构化数据转化问题</strong> ，才能解决APP展示端的问题，也是大模型项目能够面向C端用户顺利上线的前题。</p>
<p>为了解决LLM输出非结构化数据到端上展示的问题，我们根据工具实现功能的特性和页面交互特征不同，把工具分类抽象和分别建模（具体可见4-工具类型与定义），根据工具类型与端上约定特定协议，同时把工具的返回做区分，工具返回定义了Object（给LLM消费的内容）和 ViewDTO（app端消费数据结构）两个数据结构，在Agent侧做数据解析，把Object内容输入给LLM做下次ReAct推演，同时把ViewDTO输出到端上展示。在定义工具的展示协议，也抽象化定义了工具异常、模型中断、用户选择等交互模式，实现整体的用户交互方案，详见下图。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/33P2FdAnju9Dxd3uaMtITNPIBsKNIbEdo0JDcHyxHXKHXcFcFl54ia53WjRvicEbYUp0kjTRdE0SH9yhPUUl2MKw/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p>工程侧会在视图层，做页面工具数据的解析和转化，具体逻辑大致如下图所示：</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/33P2FdAnju9Dxd3uaMtITNPIBsKNIbEdEKjZPYIibGwQaZEiaYGUHCBCDfH5zpjALKt5dC5b1I92bePqZgx94Gtw/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p>首先会在视图层会根据agent执行输出内容，判断整体Agent思维和执行流程是否使用工具，</p>
<ol>
<li>
<p>如果没有使用工具，会直接返回大模型的输出结果返回到C端做文案展示。</p>
</li>
<li>
<p>如果流程使用工具，会解析整个思维链中最后一个工具的返回结果，判断是否有给端上的展示数据结构viewDTO，</p>
</li>
<li>
<p>如果有返回viewDTO，使用viewDTO内容展示。</p>
</li>
</ol>
<pre><code>1. 如果工具没有返回viewDTO，直接使用模型返回文案。
</code></pre>
<p>经过上述的逻辑解析，可以覆盖每一个既定场景的端上交互，然后再根据用户下一步的输入或者选择，继续新的一轮交互。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_jpg/33P2FdAnju9ktXcOebovS1SbeNE5Nc6RwrVnTnu2rZhKtELjZeKUKxKibY7z1s6AeeS0ZhOhTQFMBjoFh4RMiazQ/640?wx_fmt=other&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1&amp;tp=webp" alt=""></p>
<p>Agent抽象&amp;管理</p>
<p>业务PD做AI技术结合业务场景的尝试时，需要经常做技术可行性尝试，例如需要测试Agent智能体的推理过程是否合理，是否能按照自己的思维路径落地，推理一致性问题等。在基建没有完成之前，资源有限的情况下，如果通过写脚本支持业务反复验证测试、参数调整等，技术成本比较高。体会到AI项目与传统项目落地的差异后，意识到后续不同场景的迭代都会经历这样的过程，提供给产技一个类似大学“实验室”的地方，让他们做自己各种各样的验证，是AI项目落地过程中必不可少的一环，于是就有了搭建Agent实验室的想法，提供给产技做业务探索和提效工具，提高业务迭代效率。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/33P2FdAnju9Dxd3uaMtITNPIBsKNIbEdviaxvq1Q8Zv1iazoIug3dHd2QibSnZgibU8JtpKcXuNBmsH1DdzEnG11MA/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p>####<strong>▐</strong>****<strong>Agent101实验室</strong></p>
<p>基于自己对AI技术的理解，做数据建模、类型抽象，搭建了自己的AI运维实验室，并不断地完善和补充功能，让AI“实验室”应用到产技日常开发和业务迭代中去，AI实验室设计思路如下图。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/33P2FdAnju9Dxd3uaMtITNPIBsKNIbEdCDFV89Knorh4x0AspDXqDpf3gibvAT9J2NRn3ma8LX8vv6thD5icib1JQ/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p>搭建Agent实验室，是为了提供给产技快速构建Agent，验证业务想法的测试场地，提供可以组合现有的已有工具，搭属于自己的私有Agent模版的平台，让业务技术快速试错。</p>
<p>Agent实验平台提供能力如下：</p>
<ul>
<li>提供Agent抽象、管理和测试，每个人都能基于现在的工具快速搭建自己的智能体，做业务场景验证和工具串联验证。类似于你提供一个注入&quot;tool&quot;工具，构建&quot;Agent&quot; Spring bean的方式，可以在页面做Agent调用和能力验证。</li>
</ul>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/33P2FdAnju9Dxd3uaMtITNPIBsKNIbEdA7Y7Hqu76ia5wdvjjwmaPJqdyjErEke2DksvaHibS23otk8GWIdJDfzA/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p>Agent管理页面</p>
<ul>
<li>提供工具定义抽象，工具描述管理、工具类型抽象，让工具管理可视化，实现工具的可视化配置,根据工具功能抽象通用工具、中断器、选择器等工具类型。详见下图。</li>
</ul>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/33P2FdAnju9Dxd3uaMtITNPIBsKNIbEdrU16qQibzc7xn8Yg2fombKdXgiaBiacqkmzOpwvURBw7szPqCCSu8RAEg/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p>图-工具管理页面</p>
<ul>
<li>提供工具接口数据mock等能力，通过Agent测试链路中mock工具返回，实现在没有工具功能实现的前提下，能验证LLM智能ReAct流程对工具的理解和判断，评测Agent是否能达到业务预期，降低业务试错成本。</li>
</ul>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/33P2FdAnju9Dxd3uaMtITNPIBsKNIbEd0FibicscQLHGicVvyVZNuiaZEAmDXrbv48R9z08IT9SA6bfs8oSAXxEtJA/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/33P2FdAnju9Dxd3uaMtITNPIBsKNIbEdiciarmic39nRiba2FdcQg99rFHrKibcW2Ww5DCHBljA1NjqEhOmNnyN4DwQ/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p>图-工具数据mock&amp;Agent测试页面</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_jpg/33P2FdAnju9ktXcOebovS1SbeNE5Nc6R7qB42ptVQdf7nG7icqGaRbbJBicasGmia89rPiaeBWqFwsavuB1XC9oFgQ/640?wx_fmt=other&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1&amp;tp=webp" alt=""></p>
<p>工具类型和定义</p>
<p>####<strong>▐</strong>****<strong>工具分类</strong></p>
<p>Agent可以通过学习调用外部API来获取模型权重中所缺少的额外信息，这些信息包括当前信息、代码执行能力和访问专有信息源等。这对于预训练后难以修改的模型权重来说是非常重要的。</p>
<p>掌握使用工具是人类最独特和重要的特质之一。我们通过创造、修改和利用外部工具来突破我们身体和认知的限制。同样地，我们也可以为语言模型（LLM）提供外部工具来显著提升其能力，LLM可以利用搜索引擎、数据库、API等工具，获取和整理相关信息，以满足用户的需求。</p>
<p>在工具的使用过程中，有必要对工具的类型进行归类使用，确认工具边界后，开发者在定义和使用工具过程中，能更好的根据业务提供更好工具。目前FC部门内部工具的分类，是根据不同工作的作用来划分。目前平台支撑的工具类型有以下分类。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/33P2FdAnju9Dxd3uaMtITNPIBsKNIbEdXM1Kem6wUgLy5ib8fqQnRMakGaSrujMrHntTBlncDSrICu3c1oMpqyA/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p>####<strong>▐</strong>****<strong>工具类型定义</strong></p>
<p>工具的类型是以工具的使用特性为标准抽象的，一类工具的定义，会与底层Agent模版工程做协议，Agent模版工程会区分不同的类型，做不同的动作。例如通用工具，Agent会使用通用工具模版，按照工具提供的描述拼接给LLM，LLM规划使用工具时候，Agent模版工程会按照通用工具的协议，执行配置接口/方法的调用，按照返回协议，解析工具返回，给到Agent做Observations：</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/33P2FdAnju9Dxd3uaMtITNPIBsKNIbEdjgdrmRpvcgjDwzAWUa0TpEVn96gC0lbbwWrnXia81CvRfXvss3ZZiaBA/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p><strong>中断的定义：</strong></p>
<p>中断是指Agent在做规划和调用工具时候的一种行为。Agent执行用户指令的时候，遇到不能继续执行的情况，可以先中止流程的继续执行，需要外部输入或者反馈后，继续后续推理流程的动作。</p>
<p>例如用户需要执行一个订单退款操作，但是在订单查询的时候，查到了多个订单，这个时候需要先中断退款的操作，反馈给用户，让用户选择其中的一个订单继续执行。</p>
<ul>
<li>
<h4 id="通用类型">通用类型</h4>
</li>
</ul>
<p><strong>是否中断：</strong> 否</p>
<p><strong>执行：</strong> Agent执行到通用类型工具的时候，不会中断推理-执行的流程。</p>
<p><strong>通用型工具定义：</strong> LLM判断需要调用工执行，系统需要执行一段工程化指令来获取答案，并且不会中断ReAct流程的时候，可以使用通用型工具。通用型工具目前支持外调服务（tpp/hsf）来获取答案，也支持调用本地方法来获取结果。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/33P2FdAnju9Dxd3uaMtITNPIBsKNIbEdURwazE5bIcGeSSTbGCE6mtlCic7pU16U0DLgqd9qB3bRkwicRaUvOP8A/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p><strong>使用场景：</strong> 业务场景中，需要借助外部工具查询信息、执行操作、逻辑处理等，都可以抽象成通用工具给LLM使用。例如外调订单接口，查询用户的历史订单；外调商家接口，查询商家信息等等。</p>
<p><strong>支持类型：</strong></p>
<pre><code>* HSF ：工程以hsf方式，提供外调服务执行查询、写、等业务定制操作。

* TPP ：工程TPP形式，提供外调服务执行查询、写、等业务定制操作。

* LOCAL：工程本地方法、JAR包形式，提供定制业务操作。

* 其他：待扩展类型
</code></pre>
<ul>
<li>
<h4 id="中断类型">中断类型</h4>
</li>
</ul>
<p>执行这个类型的工具，会中断ReAct推理过程，等待外部反应或者用户输入，才能继续推理流程。</p>
<h4 id="选择器">选择器</h4>
<p><strong>是否中断：</strong> 是</p>
<p><strong>执行：</strong> Agent执行到选择器类型工具的时候，会中断推理-执行的流程。</p>
<p><strong>选择器定义：</strong> 工具实现一个集合的输入，让用户做一次选择。</p>
<p><strong>使用场景：</strong> 在业务实现的过程中，往往会遇见需要用户再次决策的场景，例如让用户选择目标商品集合的一个继续操作，这个时候就需要使用选择器。</p>
<p><strong>支持类型：</strong></p>
<pre><code>* 订单选择器：如果LLM判断使用一个工具只需要一个订单，而上一个工具查询出多个订单的时候，可以使用订单选择器，让用户确认一个订单，继续继续使用工具做后续流程。

* 商品选择器：如果LLM判断使用一个工具只需要一个商品，而上一个工具查询出多个商品的时候，可以使用商品选择器，让用户确认一个商品，继续继续使用工具做后续流程。
</code></pre>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/33P2FdAnju9Dxd3uaMtITNPIBsKNIbEdzapV07JianMwcuaUSSIKBUca7G6lxnhY7fck9Cv5orr7ibM3gKEA5khg/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p>使用选择器的时候，需要注意前台做样式的适配和定制，目前支持的订单选择器和商品选择器，需要APP端适配展示卡片。</p>
<h4 id="中断器">中断器</h4>
<p><strong>是否中断：</strong> 是</p>
<p><strong>执行：</strong> Agent执行到中断器类型工具的时候，会中断推理-执行的流程。</p>
<p><strong>中断定义：</strong> 工具实现一个自定义输出，输出可以是一个页面地址或者一个协议地址，让用户做反馈。</p>
<p><strong>使用场景：</strong> 在业务实现的过程中，会遇见需要用户补充信息的场景，例如盯降级的场景，如果用户没有给出需要盯降价的商品，【盯降价】的工具就无法继续执行，这个时候可以使用中断器，中断流程后，返回盯降价的商品选择页面让用户补充信息，用户盯价商品后，LLM使用【盯降价】工具创建盯价任务。</p>
<p><strong>支持类型：</strong></p>
<pre><code>* 业务中断器：使用中断器，中断流程，返回页面动作，让用户反馈信息。
</code></pre>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/33P2FdAnju9Dxd3uaMtITNPIBsKNIbEdftKw5wej2XQFVMvfb88mESpCzBagGOKoMDIX9lKy4mbSYARYBfhtIQ/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p>使用中断器时候，需要注意中断以后跟端上协议，中断器要配合APP端上动作，才能起到让用户补充信息的作用。</p>
<p>####<strong>▐</strong>****<strong>工具异常定义</strong></p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_jpg/33P2FdAnju9Dxd3uaMtITNPIBsKNIbEdjb6sOIo0FzVPyAkNQmibhdjobWibtQkKpVMSIvrwu9xHCVpytHAZRhPQ/640?wx_fmt=jpeg&amp;from=appmsg" alt=""></p>
<p>正常一个工程接口的返回示例如下：</p>
<hr>
<pre><code>{
    &quot;code&quot;:200,
    &quot;success&quot;:true,
    &quot;pageDTO&quot;:null,
    &quot;message&quot;:null,
    &quot;class&quot;:&quot;com.alibaba.test.api.response.Result&quot;,
    &quot;object&quot;:[
        {
            &quot;itemId&quot;:665788007683,
        }
    ],
    &quot;viewDTO&quot;:{
            &quot;sceneName&quot;:&quot;showOrder&quot;,
        }
}
</code></pre>
<p>Agent模版工程解析工具异常路径如下：</p>
<ol>
<li>
<p>会优先取object字段，如果object字段不为空，直接输出给LLM，做下次ReAct。</p>
</li>
<li>
<p>如果object为空，会取message字段输出给LLM做下次ReAct，不会再判断message是否为空。</p>
</li>
<li>
<p>目前tools返回异常<strong>不会中断ReAct流程</strong> ，无论是系统异常还是业务异常。</p>
</li>
</ol>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_jpg/33P2FdAnju9Dxd3uaMtITNPIBsKNIbEdCHqtp8oyCFuWpWvUtudnM7XvXo2X7EicAxJXcTMD9NMxy8Kbl8WYic7A/640?wx_fmt=jpeg&amp;from=appmsg" alt=""></p>
<ul>
<li>
<h4 id="举例1">举例1：</h4>
</li>
</ul>
<p>如果系统发生异常，直接使用以下方式返回tools结果</p>
<hr>
<pre><code>return Result.buildFail(-1, &quot;系统异常&quot;);
  

{
    &quot;code&quot;:-1,
    &quot;success&quot;:false,
    &quot;message&quot;:&quot;系统异常&quot;,
    &quot;class&quot;:&quot;com.alibaba.test.api.response.Result&quot;,
    &quot;object&quot;:null
}
</code></pre>
<p>这个时候因为object里没有值，给到LLM的就是：“系统异常”</p>
<ul>
<li>
<h4 id="举例2">举例2：</h4>
</li>
</ul>
<p>如果业务查询异常，返回了空list，使用以下方式返回tools结果</p>
<hr>
<pre><code>List&lt;Obejct&gt; list = null;
return Result.buildSuccess(list);
  

{
    &quot;code&quot;:200,
    &quot;success&quot;:true,
    &quot;class&quot;:&quot;com.alibaba.test.api.response.Result&quot;,
    &quot;object&quot;:[]
}
</code></pre>
<p>这个时候因为object里有值，给到LLM的就是：&quot;[]&quot;</p>
<ul>
<li>
<h4 id="举例3">举例3：</h4>
</li>
</ul>
<p>如果业务正常</p>
<hr>
<pre><code>{
    &quot;code&quot;:200,
    &quot;success&quot;:true,
    &quot;pageDTO&quot;:null,
    &quot;message&quot;:null,
    &quot;class&quot;:&quot;com.alibaba.test.api.response.Result&quot;,
    &quot;object&quot;:[
        {
            &quot;itemId&quot;:665788007683,
        }
    ],
    &quot;viewDTO&quot;:{
            &quot;sceneName&quot;:&quot;showOrder&quot;,
        }
}
</code></pre>
<p>这个时候因为object里有值，给到LLM的就是：&quot;[{&ldquo;itemId&rdquo;:665788007683} ]&quot;，viewDTO不会给到LLM消费,只是页面展示用。</p>
<ul>
<li>
<h4 id="异常页面展示输出">异常页面展示输出</h4>
</li>
</ul>
<p>如果异常想提示给用户，需要把异常按照特定格式设置到ViewDTO中，这样页面才能按照协议展示。最简单的在胶囊展示提示如下，&ldquo;sceneName&rdquo;:&ldquo;showError&rdquo; 这个写死：</p>
<hr>
<pre><code>{
    &quot;code&quot;:-1,
    &quot;success&quot;:false,
    &quot;pageDTO&quot;:null,
    &quot;message&quot;:&quot;没有权限&quot;,
    &quot;class&quot;:&quot;com.alibaba.test.api.response.Result&quot;,
    &quot;object&quot;:null,
    &quot;viewDTO&quot;:{
            &quot;sceneName&quot;:&quot;showError&quot;,
            &quot;showTips&quot;:&quot;抱歉，你暂时没有权限&quot;,
        }
}
</code></pre>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/33P2FdAnjuibWkDAd3IKR3JdZ82WYPcRk7myMKUmibyKVl4zbv5C2yWOs0otjibsBb6qVh4vE948XvSaEicLODbRzw/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_jpg/33P2FdAnju9ktXcOebovS1SbeNE5Nc6R7tBInnyFh7Kcmh76NMu6xBg21dXd5QphTq68NrvpUic9KdIibwYwTgdQ/640?wx_fmt=other&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1&amp;tp=webp" alt=""></p>
<p>Tools工具定义粒度</p>
<p>####<strong>▐</strong>****<strong>粒度的概念</strong></p>
<p>工具定义粒度就是工具实现功能范围的大小，工具实现的功能越多，工具的粒度越大；工具实现的工具越小，工具的粒度越小。例如要实现一个订单退款场景，如果工具定义的粒度大，可以一个工具就实现订单查询+订单退款操作；如果工具定义的粒度小，可以分订单查询工具，订单退款工具。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/33P2FdAnjuibWkDAd3IKR3JdZ82WYPcRkYOOMWXd9xZ2fB6OQBJh1HDj7a0ZUIOIAnV2aSjSXU1jY2vYvCu7xkg/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p>####<strong>▐</strong>****<strong>工具粒度大小的优劣</strong></p>
<p>工具定义粒度的大小，会影响到很多因素。Agent是ReAct(Thought-Action-Observation)的模式，工具使用的多，就意味着多轮的ReAct，会让执行链路变得更长，消耗更多的RT.</p>
<p>工具粒度</p>
<p><strong>优势</strong></p>
<p><strong>劣势</strong></p>
<p>大</p>
<p>1、减少执行轮次，整体RT会变短。</p>
<p>2、更多的是逻辑代码执行，LLM执行的准确度会变高。</p>
<p>3、工具粒度越大，整体的工具量会变少，减少LLM消费的Token数，单次执行时间会变小。</p>
<p>1、业务灵活度变差，多种场景的情况下，工具复用性比较差。</p>
<p>2、单个工具执行RT会变长。</p>
<p>3、单工具业务复杂度变高。</p>
<p>小</p>
<p>1、业务领活度更高，LLM可以根据工具的组合，实现更多的功能。</p>
<p>2、单个工具执行RT变小。</p>
<p>3、单工具业务复杂度变小，原子性更强。</p>
<p>1、Agent执行轮次变多，整体复杂度变高，业务执行链路变长，RT变长。</p>
<p>2、整体复杂度变高，LLM执行准确度下降</p>
<p>3、整体工具变多，LLM消费Token数变多，单次执行RT变长。</p>
<p>####<strong>▐</strong>****<strong>工具实现安全的思考</strong></p>
<p>开发者在实现LLM调用的工具时候，一定要注意接口的安全策略，应用工具的调用者是LLM，使用过程会比一般的程序开发者更加“开放”，无法预知LLM使用工具的前置条件，所以在工具实现的时候，要更加谨慎和保守，前置校验也需要更规范。建议如下：</p>
<p>*<strong>参数透传：</strong> 安全级别比较高的参数，一定要使用系统层透传，不要让LLM设定传入参数，防止LLM“臆造”、“篡改”，例如用户id，设备id等参数，影响代码稳定性和数据安全。</p>
<p>*<strong>代码防腐层：</strong> 建议设计代码防腐层，用来隔离LLM传入参数和下游调用参数。</p>
<p>*<strong>参数合法性校验：</strong> 对于比较关键的参数，一定要校验合法性，例如订单号一定是数字，位数在10位以上等，防止LLM“臆造”的参数对下游系统造成影响。</p>
<p>*<strong>数据状态校验：</strong> 对应执行类工具（存在写操作的实现），执行前一定要对数据状态进行校验，防止非法操作存在。</p>
<p>*<strong>接口幂等：</strong> LLM在ReAct流程中可能会重复执行接口，对于幂等要求比较高的操作，设计时候要考虑接口幂等性。</p>
<p>*<strong>多阶段事务：</strong> 对于业务比较复杂的场景，尽量保证事务操作在一个工具内实现，防止跨工具事务的工具实现。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_jpg/33P2FdAnju9ktXcOebovS1SbeNE5Nc6RyKJlicbo13ZicNiaU9aG8C4mfvhVMMX7diaGQCmETM1mkIicAicz4hFey8OQ/640?wx_fmt=other&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1&amp;tp=webp" alt=""></p>
<p>问题&amp;总结</p>
<p>项目上线和迭代的过程中，遇见的问题也特别多，大致总结如下：</p>
<ul>
<li>
<p>面向C端的AI创新，对于结果的正确率要求很高，经过对底层模型针对场景的语料的需求和评测，正确率提示至80+%，但是对于面向C端全面开发还有很长的路要走。</p>
</li>
<li>
<p>大模型解决了用户输入的自然语言到底层工具结构化输入的转化，但是大模型直接输出到端上的结构化展示错误率比较高，直接透出给用户风险比较大，目前只能依赖工具的结构化输出做页面展示，缺点是失去输出内容展示的灵活性。</p>
</li>
<li>
<p>随着智能体中工具的数量增加，智能体对工具的理解和组合会变得不稳定，影响特定场景的正确率，固定Agent和多Agent方案应该是未来的方向，但是要解决Agent智能体分发的问题。</p>
</li>
<li>
<p>LLM对工具的返回复杂度有要求，不能返回太复杂的对象，入参也不能过于复杂，否则成功率会降低。</p>
</li>
</ul>
<p>感谢项目组的人员一起学习排解难题、落地思路，虽然在项目的过程中遇见很多问题，但是探索的过程中积累了很多项目经验，毕竟“书上得来终觉浅”，要知Agent要躬行。另外也要感谢阿里巴巴集团提供的大量学习平台，让我们在学习和接触AI新技术的过程更加方便快捷，集团内技术平台和框架的推出，给业务创新屏蔽了底层技术细节，为上层业务快速落地打下基础。也希望随着AI技术的越来越成熟，未来阿里巴巴能有更好结合C端的场景落地服务于用户。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_jpg/33P2FdAnju99Up5tbCtZibX4V2wEiaQtESWtnRTODoVMPYMLwH7qYngkrJvWE2Fq8nUOUYm2TynRa2O3AGDsHibhg/640?wx_fmt=other&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1&amp;tp=webp" alt=""></p>
<p>参考文献</p>
<ul>
<li>Agents能力解密：</li>
</ul>
<p><a href="https://blog.csdn.net/youyi300200/article/details/132864191">https://blog.csdn.net/youyi300200/article/details/132864191</a></p>
<ul>
<li>
<p>AI Agent到底是什么：https://zhuanlan.zhihu.com/p/681639504</p>
</li>
<li>
<p>基于大模型的人工智能代理：https://zhuanlan.zhihu.com/p/657937696</p>
</li>
<li>
<p>聊聊我对AI Agents技术的一些看法：</p>
</li>
</ul>
<p><a href="https://baijiahao.baidu.com/sid=1781584417814332210&amp;wfr=spider&amp;for=pc">https://baijiahao.baidu.com/sid=1781584417814332210&amp;wfr=spider&amp;for=pc</a></p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/33P2FdAnjuibIHA7sgoEyE6WCCYBGFpZocl99gndMib8oyOY0xmFqfrYrtw4HP3zq8cRfRYToq84ibR0mE8D3QxEg/640?wx_fmt=other&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1&amp;tp=webp" alt=""></p>
<p>团队介绍</p>
<p>我们是淘天集团-手猫技术团队，一支专注于结合前沿技术，探索创造性的电商体验和服务的技术团队。我们依托手机天猫APP服务千万用户，构建丰富的产品形态、超强的端体验、智能的策略能力，以独立端闭环的方式服务更多用户。</p>
<p><strong>¤</strong>** 拓展阅读****¤**</p>
<p><a href="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxNDEwNjk5OQ==&amp;action=getalbum&amp;album_id=2565944923443904512#wechat_redirect">3DXR技术</a> | <a href="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxNDEwNjk5OQ==&amp;action=getalbum&amp;album_id=1533906991218294785#wechat_redirect">终端技术</a> | <a href="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxNDEwNjk5OQ==&amp;action=getalbum&amp;album_id=1592015847500414978#wechat_redirect">音视频技术</a></p>
<p><a href="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxNDEwNjk5OQ==&amp;action=getalbum&amp;album_id=1539610690070642689#wechat_redirect">服务端技术</a> | <a href="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxNDEwNjk5OQ==&amp;action=getalbum&amp;album_id=2565883875634397185#wechat_redirect">技术质量</a> | <a href="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxNDEwNjk5OQ==&amp;action=getalbum&amp;album_id=1522425612282494977#wechat_redirect">数据算法</a></p>
<p>更多AI工具，参考<a href="https://ai123.869hr.uk/">Github-AI123</a>，<a href="https://ai123.869hr.uk/">国内AI123</a></p>



          </div>



<p><img src="/images/aitools/2024/03/qrcode_for_gh_dde1b429630d_258.jpg" alt=""></p>

        </article>

      </div>
    </div>
  </div>
</section>
        </div>
    </div>
    </main>




<script type='text/javascript' src='/assets/js/jquery.ui.touch-punch.min-0.2.2.js' id='jqueryui-touch-js'></script>
<script type='text/javascript' src='/assets/js/clipboard.min-5.6.2.js' id='clipboard-js'></script>
<script type='text/javascript' src='/assets/js/tooltip-extend.js' id='iplaycode-nav-js'></script>
<script type='text/javascript' id='popper-js-extra'>
 

var theme = {"ajaxurl":"","addico":"https:\/\/nav.baidu.cn\/wp-content\/themes\/onenav\/images\/add.png","order":"asc","formpostion":"top","defaultclass":"io-grey-mode","isCustomize":"1","icourl":"","icopng":".png","urlformat":"1","customizemax":"10","newWindow":"0","lazyload":"1","minNav":"1","loading":"1","hotWords":"baidu","classColumns":" col-sm-6 col-md-4 col-xl-5a col-xxl-6a ","apikey":"TWpBeU1UVTNOekk1TWpVMEIvZ1M2bFVIQllUMmxsV1dZelkxQTVPVzB3UW04eldGQmxhM3BNWW14bVNtWk4="};
 
</script>
<script type='text/javascript' src='/assets/js/popper.min.js' id='popper-js'></script>
<script type='text/javascript' src='/assets/js/bootstrap.min-4.3.1.js' id='bootstrap-js'></script>
<script type='text/javascript' src='/assets/js/theia-sticky-sidebar-1.5.0.js' id='sidebar-js'></script>
<script type='text/javascript' src='/assets/js/lazyload.min-12.4.0.js' id='lazyload-js'></script>
<script type='text/javascript' src='/assets/js/fancybox.min-3.5.7.js' id='lightbox-js-js'></script>

<script type='text/javascript' src='/assets/js/app-anim.js' id='appanim-js'></script>

<script type="text/javascript">
    $(document).ready(function(){
        var siteWelcome = $('#loading');
        siteWelcome.addClass('close');
        setTimeout(function() {
            siteWelcome.remove();
        }, 600);
    });
</script>
<script>        
    $(document).ready(function(){
        setTimeout(function () {
            if ($('a.smooth[href="' + window.location.hash + '"]')[0]) {
                $('a.smooth[href="' + window.location.hash + '"]').click();
            }else if (window.location.hash != '') {
                $("html, body").animate({
                    scrollTop: $(window.location.hash).offset().top - 90
                }, {
                    duration: 500,
                    easing: "swing"
                });
            }
        }, 300);
        $(document).on('click','a.smooth',function(ev) {
            if($('#sidebar').hasClass('show') && !$(this).hasClass('change-href')){
                $('#sidebar').modal('toggle');
            }
            if($(this).attr("href").substr(0, 1) == "#"){
                $("html, body").animate({
                    scrollTop: $($(this).attr("href")).offset().top - 90
                }, {
                    duration: 500,
                    easing: "swing"
                });
            }
            if($(this).hasClass('go-search-btn')){
                $('#search-text').focus();
            }
            if(!$(this).hasClass('change-href')){
                var menu =  $("a"+$(this).attr("href"));
                menu.click();
                toTarget(menu.parent().parent(),true,true);
            }
        });
        $(document).on('click','a.tab-noajax',function(ev) {
            var url = $(this).data('link');
            if(url)
                $(this).parents('.d-flex.flex-fill.flex-tab').children('.btn-move.tab-move').show().attr('href', url);
            else
                $(this).parents('.d-flex.flex-fill.flex-tab').children('.btn-move.tab-move').hide();
        });
        
    });
</script>

<script>

(function(){
    if(document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") === ''){
        if(new Date().getHours() > 22 || new Date().getHours() < 6){
            document.body.classList.remove('io-black-mode');
            document.body.classList.add('io-grey-mode');
            document.cookie = "night=1;path=/";
            console.log('夜间模式开启');
        }else{
            document.body.classList.remove('night');
            document.cookie = "night=0;path=/";
            console.log('夜间模式关闭');
        }
    }else{
        var night = document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") || '0';
        if(night == '0'){
            document.body.classList.remove('night');
        }else if(night == '1'){
            document.body.classList.add('night');
        }
    }
})();

$("#search-bg").css("background", "linear-gradient(#e2c4c4, #d8d8d8)");   
function switchNightMode(){
    var night = document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") || '0';
    if(night == '0'){
	$("#search-bg").css("background", "linear-gradient(#e2c4c4, #d8d8d8)");
        document.body.classList.remove('io-grey-mode');
        document.body.classList.add('io-black-mode');
        document.cookie = "night=1;path=/"
        console.log(' ');
        $(".switch-dark-mode").attr("data-original-title","日间模式");
        $(".mode-ico").removeClass("icon-night");
        $(".mode-ico").addClass("icon-light");
    }else{
	$("#search-bg").css("background", "linear-gradient(#4f4040, #1b1d1f)");
        document.body.classList.remove('io-black-mode');
        document.body.classList.add('io-grey-mode');
        document.cookie = "night=0;path=/"
        console.log(' ');
        $(".switch-dark-mode").attr("data-original-title","夜间模式");
        $(".mode-ico").removeClass("icon-light");
        $(".mode-ico").addClass("icon-night");
    }
}
</script>


<script>
    var newsContainer = document.getElementById('news-container');
    var newsItems = document.getElementsByClassName('news-item');
    var currentItem = 0;

    setInterval(function() {
        
        newsItems[currentItem].classList.remove('show');
        newsItems[currentItem].style.transform = 'translateY(-20px)';
        
        currentItem = (currentItem + 1) % newsItems.length;
        newsItems[currentItem].style.transform = 'translateY(' + (newsContainer.offsetHeight - 20) + 'px)';
        setTimeout(function() {
            newsItems[currentItem].classList.add('show');
        }, 500);
    }, 8000);
</script>

</body>
</html>


