

<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="theme-color" content="#f9f9f9" />

	<title>mem0解决多轮会话和个性化AI的记忆层 作者： AI博主之路 来源： AI博主之路 1.什么是mem0 mem0是一个个性化AI的记忆层，用于多轮会话，持续改进用户的会话体验，能够高质量的捕捉到用户的个人兴趣点或者意图。 2.核心操作 add操作核心步骤如下 基于用户问题，让大模型做记忆抽取，提  | AI123| ai工具网址导航,ai最新产品</title>
	<link rel="shortcut icon" href="/assets/images/favicon.png" />
    <meta name="keywords" content="chatgpt,AI,AI聊天,AI文本生成,AI绘画,AI编程,AI电商" />
    <meta name="description" content="AI123 网址导航 | 免费chatgpt 汇集各类先进的人工智能产品，旨在帮助用户更快速地了解和使用这些产品,轻松地浏览不同领域的AI产品，包括语音识别、图像处理、自然语言处理。" />
    
    <meta name="baidu-site-verification" content="codeva-cCAOSG8MBO" />
    
    <link rel="stylesheet" id="block-library-css"
        href="/assets/css/block-library.min-5.6.2.css" type="text/css" media="all" />
    <link rel="stylesheet" id="iconfont-css" href="/assets/css/iconfont-3.03029.1.css"
        type="text/css" media="all" />

    
    <link href="/scss/style.min.css" rel="stylesheet" />
    
		    <link rel="stylesheet" id="iowen-css" href="/assets/css/style-3.03029.1.css"
        type="text/css" media="all" />
    <link rel="stylesheet" id="custom-css" href="/assets/css/custom-style.css"
        type="text/css" media="all" />
		
		<link rel="stylesheet" href=/plugins/font-awesome/css/font-awesome.min.css />


    <link rel="stylesheet" id="fortawesome-css" href="/assets/fontawesome-5.15.4/css/all.min.css" type="text/css" />


    <script type="text/javascript" src="/assets/js/jquery.min-3.2.1.js" id="jquery-js"></script>
    <script type="text/javascript" src="/assets/js/content-search.js"  id="content-search-js"></script>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2073588164294660"
     crossorigin="anonymous"></script>

	
    <script>
        

		var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?8450bc732b2a86f7e4aec4ebd9fd8252";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();

        
    </script>
    

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7071W80M2K"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-7071W80M2K');
    </script>

</head>


    <div class="page-container">
	
	<div id="sidebar" class="sticky sidebar-nav fade animate-nav" style="width: 170px">
        
            <div class="modal-dialog h-100 sidebar-nav-inner">
                <div class="sidebar-logo border-bottom border-color">
                    
                    <div class="logo overflow-hidden">
                        <a href="https://ai123.869hr.uk/" class="logo-expanded">
                            <img src="/assets/images/bt8-expand-light.png" height="40" class="logo-light"
                                alt="AI123| ai工具网址导航,ai最新产品">
                            <img src="/assets/images/bt8-expand-dark.png" height="40" class="logo-dark d-none"
                                alt="AI123| ai工具网址导航,ai最新产品">
                        </a>
                        <a href="https://ai123.869hr.uk/" class="logo-collapsed">
                            <img src="/assets/images/bt.png" height="40" class="logo-light"
                                alt="AI123| ai工具网址导航,ai最新产品">
                            <img src="/assets/images/bt.png" height="40" class="logo-dark d-none"
                                alt="AI123| ai工具网址导航,ai最新产品">
                        </a>
                    </div>
                    
                </div>
                <div class="sidebar-menu flex-fill">
                    <div class="sidebar-scroll">
                        <div class="sidebar-menu-inner">
                            <ul>
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#00834a9dd147b04c5d53d4368cdb0b57" class="smooth">
                                            <i class="fas fa-sun fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>本月热门</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#db0311e7ecfedd24d157f0ceb4a0897f" class="smooth">
                                            <i class="fas fa-star-and-crescent fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>热门网站</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#21b5cbb2c769010fec3ce029a5f8a4a3" class="smooth">
                                            <i class="far fa-star fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>国内热门</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#8310718935e8ec25ce0350de01e3f7dc" class="smooth">
                                            <i class="fas fa-phone fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>对话工具</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#d58e850d9115797306c2edf61ac6ddd8" class="smooth">
                                            <i class="fas fa-newspaper fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>写作</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#2a7418a5f8f1ca4e054364a9300657df" class="smooth">
                                            <i class="fas fa-image fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>图像生成</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#7808a68ee1b34dab43011429a12de19e" class="smooth">
                                            <i class="fas fa-image fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>图像处理</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#6729afc51f5ac49a828812fa0eb0c82f" class="smooth">
                                            <i class="fas fa-video fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>音视频</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#e5ce844860451fff3faf3d8f8894971d" class="smooth">
                                            <i class="fas fa-music fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>音乐生成</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#db53804b7d726967c58fcc8c9ca03d27" class="smooth">
                                            <i class="fas fa-language fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>办公</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#47b7af9547e034d28fe6f6d439968ac8" class="smooth">
                                            <i class="fas fa-copy fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>提示词</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#41282bf95e43c64d579757573a03cdde" class="smooth">
                                            <i class="fas fa-code fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>编程</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#fd71852fd52d5e18ef4f9a252f1eac58" class="smooth">
                                            <i class="fas fa-search fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>AI搜索</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#81b1637fbe47625dbdf2094acd3b6683" class="smooth">
                                            <i class="fas fa-language fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>文本翻译</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#2e9ba3fa6e1ed0e9311b3e97f97f9a40" class="smooth">
                                            <i class="fas fa-book fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>学习网站</span>
                                        </a>
                                    </li>
                                    
                                
                            </ul>           
                        </div>
                    </div>
                </div>
                <div class="border-top py-2 border-color">
                    <div class="flex-bottom">
                        <ul>
			    <li id="menu-item-212"
                                 class="menu-item menu-item-type-custom menu-item-object-custom menu-item-212 sidebar-item">
                                 <a href="#friendlink" class="smooth">
                                     <i class="fab fa-staylinked icon-fw icon-lg mr-2"></i>
                                     <span>友情链接</span>
                                 </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>


<div class="flex-fill grid-bg">
    <div class="big-header-banner">
        <div id="header" class="page-header sticky">
            <div class="navbar navbar-expand-md">
                <div class="container-fluid p-0">

                    <a href="" class="navbar-brand d-md-none" title="AI123| ai工具网址导航,ai最新产品">
                        <img src="/assets/images/bt.png" class="logo-light"
                            alt="AI123| ai工具网址导航,ai最新产品">
                        <img src="/assets/images/bt.png" class="logo-dark d-none"
                            alt="AI123| ai工具网址导航,ai最新产品">
                    </a>

                    <div class="collapse navbar-collapse order-2 order-md-1">
                        <div class="header-mini-btn">
                            <label>
                                <input id="mini-button" type="checkbox">
                                <svg viewbox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                                    <path class="line--1" d="M0 40h62c18 0 18-20-17 5L31 55"></path>
                                    <path class="line--2" d="M0 50h80"></path>
                                    <path class="line--3" d="M0 60h62c18 0 18 20-17-5L31 45"></path>
                                </svg>
                            </label>

                        </div>

                        <ul class="navbar-nav site-menu" style="margin-right: 16px;">
                        
			<li >
				<a href="/">
                                    <i class="fa fa-home fa-lg mr-2"></i>
                                    <span>首页</span>
                                </a>
				<ul class="sub-menu">
				
				</ul>
			    </li>
			
			</ul>

                        
                        <div class="rounded-circle weather">
                            <div id="he-plugin-simple" style="display: contents;"></div>
                            <script>WIDGET = {
                                    CONFIG: {
                                        "modules": "01234",
                                        "background": 5,
                                        "tmpColor": "008000",
                                        "tmpSize": 14,
                                        "cityColor": "008000",
                                        "citySize": 14,
                                        "aqiColor": "#008000",
                                        "aqiSize": 14,
                                        "weatherIconSize": 24,
                                        "alertIconSize": 18,
                                        "padding": "10px 10px 10px 10px",
                                        "shadow": "1",
                                        "language": "auto",
                                        "borderRadius": 5,
                                        "fixed": "false",
                                        "vertical": "middle",
                                        "horizontal": "left",
                                        "key": "085791e805a24491b43b06cf58ab31e7"
                                    }
                                }
                            </script>
                            <script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script>
                        </div>
                        
                    </div>

                    <ul class="nav navbar-menu text-xs order-1 order-md-2">
                        
                        
                        <li class="nav-item mr-3 mr-lg-0 d-none d-lg-block">
                            <script>
                                fetch('https://v1.hitokoto.cn')
                                    .then(response => response.json())
                                    .then(data => {
                                    const hitokoto = document.getElementById('hitokoto_text')
                                    hitokoto.href = 'https://hitokoto.cn/?uuid=' + data.uuid
                                    hitokoto.innerText = data.hitokoto
                                    })
                                    .catch(console.error)
                            </script>                           
                            <div id="hitokoto"><a href="#" target="_blank" id="hitokoto_text">疏影横斜水清浅，暗香浮动月黄昏。</a></div>
                        </li>
                        
                        
                        <li class="nav-search ml-3 ml-md-4">
                            <a href="javascript:" data-toggle="modal" data-target="#search-modal"><i
                                    class="iconfont icon-search icon-2x"></i></a>
                        </li>
                        <li class="nav-item d-md-none mobile-menu ml-3 ml-md-4">
                            <a href="javascript:" id="sidebar-switch" data-toggle="modal"
                                data-target="#sidebar"><i class="iconfont icon-classification icon-2x"></i></a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="placeholder" style="height:74px"></div>
    </div>




<body class="page-body boxed-container  io-grey-mode">
    <main role="main" class="flex-shrink-0">
    <div class="container">
        
        <div class="content">
            <style>
    body{
	    background: #f9f9f9;
	}

    h1, h2, h3, h4, h5, h6 {
        margin-top: 1.5rem;
        margin-bottom: 1.5rem;
    }


 
@media (min-width: 1000px) {
  .container, .container-sm {
    max-width: 800px;
  }
}

</style>

<div class="featured-post-content">

    <a href="/digest/" class="featured-post-title">
       AI 文摘
    </a>

</div>

<section class="blog-single">
  <div class="container">
    <div class="row">

      <div class="col-lg-12 order-1 order-lg-2">
        <article class="single-blog">
          <p class="title">mem0解决多轮会话和个性化AI的记忆层</p>
            <br/>
          <ul class="meta">
            <li>
              By <a href=https://ai123.869hr.uk/about>AI123</a>
            </li>
            <li>
              <i class="fa fa-clock-o"></i>
              July 30, 2024 - 2 min read
            </li>
          </ul>

          <div class="_1NCGf">
              <img src="https://869hr.uk/images/blog/aibar123.jpg" width="640" >
          </div>
            <br>
            <br>
            <br>
          
          <div class="single-blog-content">
            <p>作者： AI博主之路  来源： <a href="https://mp.weixin.qq.com/s/g8uWSJxj9kIs4PW2rHh1-Q">AI博主之路</a></p>
<h4 id="1什么是mem0">1.什么是mem0</h4>
<p><strong>mem0是一个个性化<strong><strong>AI</strong></strong>的记忆层，用于多轮会话，持续改进用户的会话体验，能够高质量的捕捉到用户的个人兴趣点或者意图。</strong></p>
<h4 id="2核心操作">2.核心操作</h4>
<p><strong>add操作核心步骤如下</strong></p>
<ul>
<li>
<p>基于用户问题，让大模型做记忆抽取，提取事实，偏好信息</p>
</li>
<li>
<p>对问题做embeding,基于语义做相似度的向量检索(top5)</p>
</li>
<li>
<p>基于抽取记忆和相关记忆，选择工具（call function），新增/更新/删除记忆,更新向量数据库qdrant和关系数据库sqlite</p>
</li>
<li>
<p>上报信息到mem0</p>
</li>
</ul>
<p><strong>流程图如下</strong></p>
<p>暂时无法在飞书文档外展示此内容</p>
<p><strong>记忆抽取prompt</strong> 如下:</p>
<hr>
<pre><code>Deduce the facts, preferences, and memories from the provided text.
Just return the facts, preferences, and memories in bullet points:
Natural language text: {user_input}
User/Agent details: {metadata}
  

Constraint for deducing facts, preferences, and memories:
- The facts, preferences, and memories should be concise and informative.
- Don't start by &quot;The person likes Pizza&quot;. Instead, start with &quot;Likes Pizza&quot;.
- Don't remember the user/agent details provided. Only remember the facts, preferences, and memories.
  

Deduced facts, preferences, and memories:
</code></pre>
<p>Prompt 中文版本</p>
<hr>
<pre><code>从提供的文本中推断事实、偏好和记忆。
只需以项目符号的形式返回事实、偏好和记忆：
自然语言文本：{user_input}
用户/代理详细信息：{metadata}
  

推断事实、偏好和记忆的约束：
- 事实、偏好和记忆应简洁且信息丰富。
- 不要以“此人喜欢披萨”开头。相反，以“喜欢披萨”开头。
- 不要记住提供的用户/代理详细信息。只记住事实、偏好和记忆。
  

推断出的事实、偏好和记忆：
</code></pre>
<p>demo</p>
<hr>
<pre><code>Deduce the facts, preferences, and memories from the provided text.
Just return the facts, preferences, and memories in bullet points:
Natural language text: 山西有哪些景点
User/Agent details: {'user_id': 'traveler_123'}
  

Constraint for deducing facts, preferences, and memories:
- The facts, preferences, and memories should be concise and informative.
- Don't start by &quot;The person likes Pizza&quot;. Instead, start with &quot;Likes Pizza&quot;.
- Don't remember the user/agent details provided. Only remember the facts, preferences, and memories.
  

Deduced facts, preferences, and memories:
</code></pre>
<p>输出结果</p>
<ul>
<li>
<ul>
<li></li>
</ul>
</li>
</ul>
<pre><code>'- Interested in tourist attractions in Shanxi, China.'
#对中国山西的景点感兴趣
</code></pre>
<p>collection_name：默认是&rsquo;mem0'</p>
<p><strong>记忆更新的prompt</strong> 如下</p>
<hr>
<pre><code>You are an expert at merging, updating, and organizing memories. When provided with existing memories and new information, your task is to merge and update the memory list to reflect the most accurate and current information. You are also provided with the matching score for each existing memory to the new information. Make sure to leverage this information to make informed decisions about which memories to update or merge.
  

Guidelines:
- Eliminate duplicate memories and merge related memories to ensure a concise and updated list.
- If a memory is directly contradicted by new information, critically evaluate both pieces of information:
    - If the new memory provides a more recent or accurate update, replace the old memory with new one.
    - If the new memory seems inaccurate or less detailed, retain the original and discard the old one.
- Maintain a consistent and clear style throughout all memories, ensuring each entry is concise yet informative.
- If the new memory is a variation or extension of an existing memory, update the existing memory to reflect the new information.
  

Here are the details of the task:
- Existing Memories:
{existing_memories}
  

- New Memory: {memory}
</code></pre>
<p>中文翻译</p>
<hr>
<pre><code>您是合并、更新和组织记忆的专家。当提供现有记忆和新信息时，您的任务是合并和更新记忆列表以反映最准确和最新的信息。您还将获得每个现有记忆与新信息的匹配分数。确保利用这些信息做出明智的决定，确定要更新或合并哪些记忆。
  

准则：
- 消除重复记忆并合并相关记忆，以确保列表简洁且更新。
    - 如果记忆与新信息直接矛盾，请批判性地评估这两条信息：
    - 如果新记忆提供了更新或更准确的更新，请用新记忆替换旧记忆。
- 如果新记忆似乎不准确或不够详细，请保留原始记忆并丢弃旧记忆。
- 在所有记忆中保持一致和清晰的风格，确保每个条目简洁而信息丰富。
- 如果新记忆是现有记忆的变体或扩展，请更新现有记忆以反映新信息。
  

以下是任务的详细信息：
- 现有记忆：
{existing_memories}
  

- 新记忆：{memory}
</code></pre>
<p><strong>add操作中用的数据库</strong></p>
<ul>
<li>
<p>向量数据库（默认qdrant） 主要用于语义相似性检索，取top,会把相似性打分喂给大模型，进行记忆的更新</p>
</li>
<li>
<p>关系型数据库（默认是sqlite） 主要用于存储所有的用户问题记录,用于查询所有的历史记录</p>
</li>
</ul>
<p><strong>add操作中用的大模型</strong></p>
<ul>
<li>
<p>embeding模型（默认是mem0.embeddings.openai.OpenAIEmbedding） 主要用于对用户问题做embedding</p>
</li>
<li>
<p>生成模型(默认是mem0.llms.openai.OpenAILLM) 主要用于用户记忆抽取，记忆更新的工具选择</p>
</li>
</ul>
<h4 id="3案例实践">3.案例实践</h4>
<hr>
<pre><code>import os
from openai import OpenAI
from mem0 import Memory
from dotenv import load_dotenv
import os
  

load_dotenv()  # 加载 .env 文件
# Set the OpenAI API key
os.environ['OPENAI_API_KEY'] = os.getenv('OPENAI_API_KEY')
  

class PersonalTravelAssistant:
    def __init__(self):
        self.client = OpenAI()
        self.memory = Memory()
        self.messages = [{&quot;role&quot;: &quot;system&quot;, &quot;content&quot;: &quot;You are a personal AI Assistant.&quot;}]
  

    def ask_question(self, question, user_id):
        # Fetch previous related memories
        previous_memories = self.search_memories(question, user_id=user_id)
        prompt = question
        if previous_memories:
            prompt = f&quot;User input: {question}\n Previous memories: {previous_memories}&quot;
        self.messages.append({&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: prompt})
  

        # Generate response using GPT-4o
        response = self.client.chat.completions.create(
            model=&quot;gpt-4o&quot;,
            messages=self.messages
        )
        answer = response.choices[0].message.content
        self.messages.append({&quot;role&quot;: &quot;assistant&quot;, &quot;content&quot;: answer})
  

        # Store the question in memory
        self.memory.add(question, user_id=user_id)
        return answer
  

    def get_memories(self, user_id):
        memories = self.memory.get_all(user_id=user_id)
        return [m['text'] for m in memories]
  

    def search_memories(self, query, user_id):
        memories = self.memory.search(query, user_id=user_id)
        return [m['text'] for m in memories]
  

# Usage example
user_id = &quot;traveler_123&quot;
ai_assistant = PersonalTravelAssistant()
  

def main():
    while True:
        question = input(&quot;Question: &quot;)
        if question.lower() in ['q', 'exit']:
            print(&quot;Exiting...&quot;)
            break
  

        answer = ai_assistant.ask_question(question, user_id=user_id)
        print(f&quot;Answer: {answer}&quot;)
        memories = ai_assistant.get_memories(user_id=user_id)
        print(&quot;Memories:&quot;)
        for memory in memories:
            print(f&quot;- {memory}&quot;)
        print(&quot;-----&quot;)
  

if __name__ == &quot;__main__&quot;:
    main()
</code></pre>
<p>具体案例</p>
<hr>
<pre><code>Question: 我想去北京旅游，有哪些景点
Answer: 北京作为中国的历史文化名城，有许多著名的景点值得一游。以下是一些推荐的景点：
  

1.**故宫博物院（紫禁城）**：明清两代皇宫，是世界上规模最大、保存最完好的木结构古建筑之一。
  

2.**天安门广场**：世界上最大的城市广场，可以观赏升旗仪式，并且附近有毛主席纪念堂、人民英雄纪念碑等。
  

3.**天坛公园**：明清两代皇帝祭天的场所，以其独特的建筑和园林设计著称。
  

4.**颐和园**：清朝的皇家园林，包含了湖泊、寺庙和宫殿，风景优美。
  

5.**长城（八达岭或慕田峪）**：世界闻名的古代防御工程，步行体验其壮丽和历史感。
  

6.**胡同**：北京的传统民居区，感受老北京的风情和生活。
  

7.**王府井大街**：北京的商业街，适合购物和品尝各种美食。
  

8.**南锣鼓巷**：一个经典的北京胡同区域，现已成为时尚和历史交融的网红打卡地。
  

9.**圆明园**：昔日清朝的皇家园林，后在第二次鸦片战争中被毁，现在是一片充满历史意义的地方。
  

10.**北京动物园**：拥有丰富的动物种类，特别是大熊猫馆很受游客欢迎。
  

11.**鸟巢和水立方**：奥运场馆，现代建筑的代表，可以参观和体验奥林匹克精神。
  

在旅游时，请注意查阅各景点的开放时间和旅游须知，以便顺利游览。祝你玩的愉快！
Memories:
- Wants to travel to Beijing and is interested in tourist attractions in Beijing.
-----
Question: 我不想去北京了，我想去山西旅游
Answer: 山西是一个充满历史和文化底蕴的省份，有许多值得一游的景点。以下是一些热门的山西旅游景点推荐：
  

1.**平遥古城**：联合国教科文组织列为世界文化遗产的古城镇，以其保存完好的明清时期的建筑和城墙而闻名。
  

2.**云冈石窟**：大同市的一处世界文化遗产，是中国三大石窟之一，以壮观的佛像雕刻和石窟艺术闻名。
  

3.**悬空寺**：位于恒山脚下，这座建在悬崖上的寺庙建筑非常独特，被称为世界建筑史上的奇观。
  

4.**五台山**：中国四大佛教名山之一，拥有众多古老的寺庙和佛教文化遗址，是朝圣与旅游的理想之地。
  

5.**晋祠**：位于太原市，是一组以供奉周武王次子叔虞为主的古建筑群，融合了丰富的历史、文化和自然景观。
  

6.**壶口瀑布**：位于山西和陕西交界处的黄河上，是世界上唯一的黄河瀑布，水势壮观，景象壮丽。
  

7.**长治壶关大峡谷**：又称为太行山大峡谷，景色壮丽，有多个景区，如红石峡、黑龙潭等，可以徒步和探险。
  

8.**乔家大院**：位于祁县，是清代民居建筑的代表，有“皇家有故宫，民宅看乔家”的美誉。
  

9.**王家大院**：山西省灵石县的一个大型古建筑群，被誉为“中国民间紫禁城”，保存非常完好。
  

10.**太原晋祠园林**：是中国现存最早的皇家园林之一，融合了多种建筑和雕塑艺术。
  

这些景点各具特色，从历史文化到自然风光，无论你是喜欢古建筑、佛教文化还是大自然的爱好者，山西都能满足你的需求。祝你旅途愉快！
Memories:
- Does not want to go to Beijing.
- Wants to travel to Shanxi.
-----
Question: 帮我推荐一下山西的小吃
Answer: 山西不仅有丰富的旅游资源，还有许多独具风味的小吃。以下是一些你在山西旅行时不容错过的小吃推荐：
  

1.**刀削面**：山西最著名的面食之一，面条由手工刀削而成，形状独特，口感劲道，通常搭配丰富的浇头和调料。
  

2.**过油肉**：这是一道经典的山西菜，主要食材是猪肉片，经过油炸处理，然后配以各种调料炒制而成，味道鲜美。
  

3.**剔尖**：这是一种独特的手工面，通过手工剔出的面条，口感柔软，有嚼劲，常与羊肉汤或各种浓郁的料汁搭配。
  

4.**莜面窝窝**：以莜面为主要材料，制作成小窝窝的形状，蒸熟后食用，通常蘸着蒜汁、酱汁或者搭配炒菜。
  

5.**猫耳朵**：这种小吃的面条状似猫耳朵，口感独特，常用来做汤面或者拌面。
  

6.**山西凉粉**：用绿豆或豌豆淀粉制成，切成条状或块状，配以花生、黄瓜丝等，拌上丰富的调料，非常解暑。
  

7.**醋熘土豆丝**：山西人爱吃醋，这道菜用山西老陈醋调味，使得土豆丝酸辣开胃。
  

8.**阳泉炸糕**：以糯米和红豆沙为主要材料，外皮酥脆，内馅软糯，是一道传统的甜点小吃。
  

9.**太原小米糕**：用小米面制作的糕点，口感柔软、香甜，有很高的营养价值。
  

10.**枣糕**：山西大枣闻名，这种小吃将大枣与面粉混合，蒸制或烤制而成，甜而不腻。
  

11.**羊杂割**：一种用羊肝、羊肺、羊肚等羊杂熬制成的汤品，味道鲜美，尤其适合冬天食用。
  

12.**太谷饼**：一种传统的甜饼，以面粉、大油、白糖等为主要材料，酥脆可口，香甜味美。
  

这些小吃不仅能满足你的味蕾，还能带你更深入地了解山西的饮食文化。希望你在山西的旅行不仅玩得开心，也能吃得尽兴！
Memories:
- Does not want to go to Beijing.
- Wants to travel to Shanxi and is interested in Shanxi cuisine. Seeking recommendations for snacks or small dishes from Shanxi.
- Seeking recommendations for snacks or small dishes from Shanxi.
-----
Question: 我现在又想去北京了，帮我推荐北京的小吃
Answer: 没问题，北京也有丰富多样的小吃，以下是一些你在北京旅行时不容错过的小吃推荐：
  

1.**北京烤鸭**：虽然严格来说不是小吃，但这是北京的代表性美食。片片鸭肉皮脆肉嫩，配上薄饼、甜面酱和葱丝，味道绝佳。
  

2.**炸酱面**：这是一道经典的北京面食，以炸酱为主料，配上黄瓜丝、豆芽等，味道咸鲜浓厚。
  

3.**豆汁儿**：北京传统小吃，味道独特，很多外地人需要时间适应，搭配焦圈、咸菜等。
  

4.**驴打滚**：一种糯米糕点，是用豆沙馅儿包裹糯米面，再裹上一层豆粉，口感软糯。
  

5.**艾窝窝**：用糯米粉、红豆馅制成的小圆团，外面裹着一层白糖，是一种传统的甜食。
  

6.**炒肝**：以猪肝和猪大肠为主料，勾芡之后汤汁厚实，味道鲜美。通常配烧饼吃。
  

7.**卤煮火烧**：用猪内脏和豆腐熬煮，再加上火烧（类似于硬面包），味道浓郁，适合喜欢重口味的游客。
  

8.**京酱肉丝**：用甜面酱和猪肉丝炒制而成，通常用豆皮包裹着吃，味道鲜美。
  

9.**爆肚**：将牛羊肚快速爆炒或涮烫，以保持其鲜嫩的口感，蘸上调料吃，别具风味。
  

10.**糖葫芦**：用山楂串制而成，外面裹上一层糖汁，酸甜适口，是冬季最受欢迎的小吃之一。
  

11.**茯苓夹饼**：是一种北京传统糕点，用茯苓粉和五仁馅制成，口感松软。
  

12.**驼峰**：以驴肉为主料，制作成的汉堡状小吃，味道鲜美。
  

13.**炸咯吱**：一种炸制的面食，外脆内软，适合蘸着调料吃。
  

14.**奶油炸糕**：传统的北京小吃，面粉包裹着豆沙馅或者奶黄馅，炸至金黄，外脆里嫩。
  

这些小吃不仅能满足你的味蕾，也能让你更深入地了解北京的饮食文化。希望你在北京的旅行愉快，品尝到丰富多样的美食！
Memories:
- Wants to travel to Shanxi and is interested in Shanxi cuisine. Seeking recommendations for snacks or small dishes from Shanxi. Wants to visit Beijing again.
- Seeking recommendations for snacks or small dishes from Shanxi. Interested in Beijing's local snacks.
-----
</code></pre>
<h4 id="4总结">4.总结</h4>
<p>mem0项目主要是用于多轮对话，实现个性化的兴趣点或者意图的捕捉，每次提问更新最新的用户意图或者兴趣点。每次用户提问都会使用2次大模型。通过语义检索相关会话,降低历史会话大模型上下文的长度。关系型数据库保存所有的历史问题。相比一次会话全部喂给大模型提取用户的兴趣点或者意图，mem0项目优点：通过先抽取+检索相关性，能够降低大模型理解上下文的难度和减少大模型token的使用量。对于私有化小模型，会有很大的帮助。缺点：使用了两次大模型，耗时可能会增加。</p>
<p>更多AI工具，参考<a href="https://ai123.869hr.uk/">Github-AI123</a>，<a href="https://ai123.869hr.uk/">国内AI123</a></p>



          </div>



<p><img src="/images/aitools/2024/03/qrcode_for_gh_dde1b429630d_258.jpg" alt=""></p>

        </article>

      </div>
    </div>
  </div>
</section>
        </div>
    </div>
    </main>




<script type='text/javascript' src='/assets/js/jquery.ui.touch-punch.min-0.2.2.js' id='jqueryui-touch-js'></script>
<script type='text/javascript' src='/assets/js/clipboard.min-5.6.2.js' id='clipboard-js'></script>
<script type='text/javascript' src='/assets/js/tooltip-extend.js' id='iplaycode-nav-js'></script>
<script type='text/javascript' id='popper-js-extra'>
 

var theme = {"ajaxurl":"","addico":"https:\/\/nav.baidu.cn\/wp-content\/themes\/onenav\/images\/add.png","order":"asc","formpostion":"top","defaultclass":"io-grey-mode","isCustomize":"1","icourl":"","icopng":".png","urlformat":"1","customizemax":"10","newWindow":"0","lazyload":"1","minNav":"1","loading":"1","hotWords":"baidu","classColumns":" col-sm-6 col-md-4 col-xl-5a col-xxl-6a ","apikey":"TWpBeU1UVTNOekk1TWpVMEIvZ1M2bFVIQllUMmxsV1dZelkxQTVPVzB3UW04eldGQmxhM3BNWW14bVNtWk4="};
 
</script>
<script type='text/javascript' src='/assets/js/popper.min.js' id='popper-js'></script>
<script type='text/javascript' src='/assets/js/bootstrap.min-4.3.1.js' id='bootstrap-js'></script>
<script type='text/javascript' src='/assets/js/theia-sticky-sidebar-1.5.0.js' id='sidebar-js'></script>
<script type='text/javascript' src='/assets/js/lazyload.min-12.4.0.js' id='lazyload-js'></script>
<script type='text/javascript' src='/assets/js/fancybox.min-3.5.7.js' id='lightbox-js-js'></script>

<script type='text/javascript' src='/assets/js/app-anim.js' id='appanim-js'></script>

<script type="text/javascript">
    $(document).ready(function(){
        var siteWelcome = $('#loading');
        siteWelcome.addClass('close');
        setTimeout(function() {
            siteWelcome.remove();
        }, 600);
    });
</script>
<script>        
    $(document).ready(function(){
        setTimeout(function () {
            if ($('a.smooth[href="' + window.location.hash + '"]')[0]) {
                $('a.smooth[href="' + window.location.hash + '"]').click();
            }else if (window.location.hash != '') {
                $("html, body").animate({
                    scrollTop: $(window.location.hash).offset().top - 90
                }, {
                    duration: 500,
                    easing: "swing"
                });
            }
        }, 300);
        $(document).on('click','a.smooth',function(ev) {
            if($('#sidebar').hasClass('show') && !$(this).hasClass('change-href')){
                $('#sidebar').modal('toggle');
            }
            if($(this).attr("href").substr(0, 1) == "#"){
                $("html, body").animate({
                    scrollTop: $($(this).attr("href")).offset().top - 90
                }, {
                    duration: 500,
                    easing: "swing"
                });
            }
            if($(this).hasClass('go-search-btn')){
                $('#search-text').focus();
            }
            if(!$(this).hasClass('change-href')){
                var menu =  $("a"+$(this).attr("href"));
                menu.click();
                toTarget(menu.parent().parent(),true,true);
            }
        });
        $(document).on('click','a.tab-noajax',function(ev) {
            var url = $(this).data('link');
            if(url)
                $(this).parents('.d-flex.flex-fill.flex-tab').children('.btn-move.tab-move').show().attr('href', url);
            else
                $(this).parents('.d-flex.flex-fill.flex-tab').children('.btn-move.tab-move').hide();
        });
        
    });
</script>

<script>

(function(){
    if(document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") === ''){
        if(new Date().getHours() > 22 || new Date().getHours() < 6){
            document.body.classList.remove('io-black-mode');
            document.body.classList.add('io-grey-mode');
            document.cookie = "night=1;path=/";
            console.log('夜间模式开启');
        }else{
            document.body.classList.remove('night');
            document.cookie = "night=0;path=/";
            console.log('夜间模式关闭');
        }
    }else{
        var night = document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") || '0';
        if(night == '0'){
            document.body.classList.remove('night');
        }else if(night == '1'){
            document.body.classList.add('night');
        }
    }
})();

$("#search-bg").css("background", "linear-gradient(#e2c4c4, #d8d8d8)");   
function switchNightMode(){
    var night = document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") || '0';
    if(night == '0'){
	$("#search-bg").css("background", "linear-gradient(#e2c4c4, #d8d8d8)");
        document.body.classList.remove('io-grey-mode');
        document.body.classList.add('io-black-mode');
        document.cookie = "night=1;path=/"
        console.log(' ');
        $(".switch-dark-mode").attr("data-original-title","日间模式");
        $(".mode-ico").removeClass("icon-night");
        $(".mode-ico").addClass("icon-light");
    }else{
	$("#search-bg").css("background", "linear-gradient(#4f4040, #1b1d1f)");
        document.body.classList.remove('io-black-mode');
        document.body.classList.add('io-grey-mode');
        document.cookie = "night=0;path=/"
        console.log(' ');
        $(".switch-dark-mode").attr("data-original-title","夜间模式");
        $(".mode-ico").removeClass("icon-light");
        $(".mode-ico").addClass("icon-night");
    }
}
</script>


<script>
    var newsContainer = document.getElementById('news-container');
    var newsItems = document.getElementsByClassName('news-item');
    var currentItem = 0;

    setInterval(function() {
        
        newsItems[currentItem].classList.remove('show');
        newsItems[currentItem].style.transform = 'translateY(-20px)';
        
        currentItem = (currentItem + 1) % newsItems.length;
        newsItems[currentItem].style.transform = 'translateY(' + (newsContainer.offsetHeight - 20) + 'px)';
        setTimeout(function() {
            newsItems[currentItem].classList.add('show');
        }, 500);
    }, 8000);
</script>

</body>
</html>


