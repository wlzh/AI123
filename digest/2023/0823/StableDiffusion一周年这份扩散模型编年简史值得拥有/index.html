

<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="theme-color" content="#f9f9f9" />

	<title>StableDiffusion一周年：这份扩散模型编年简史值得拥有 作者： 量子位 来源： 量子位 以下文章来源于别有一洞天，作者是来自北京理工大学的硕士研究生赖泽强（Zeqiang Lai） 编者按：今年ChatGPT/GPT-4大火，彻底开启了AI新纪元，也点燃了通用人工智能的火花。 众所周知，要想实现通用人工智能离  | AI123| ai工具网址导航,ai最新产品</title>
	<link rel="shortcut icon" href="/assets/images/favicon.png" />
    <meta name="keywords" content="chatgpt,AI,AI聊天,AI文本生成,AI绘画,AI编程,AI电商" />
    <meta name="description" content="AI123 网址导航 | 免费chatgpt 汇集各类先进的人工智能产品，旨在帮助用户更快速地了解和使用这些产品,轻松地浏览不同领域的AI产品，包括语音识别、图像处理、自然语言处理。" />
    
    <meta name="baidu-site-verification" content="codeva-LoCoq3KOzQ" />
    
    <link rel="stylesheet" id="block-library-css"
        href="/assets/css/block-library.min-5.6.2.css" type="text/css" media="all" />
    <link rel="stylesheet" id="iconfont-css" href="/assets/css/iconfont-3.03029.1.css"
        type="text/css" media="all" />

    
    <link href="/scss/style.min.css" rel="stylesheet" />
    
		    <link rel="stylesheet" id="iowen-css" href="/assets/css/style-3.03029.1.css"
        type="text/css" media="all" />
    <link rel="stylesheet" id="custom-css" href="/assets/css/custom-style.css"
        type="text/css" media="all" />
		
		<link rel="stylesheet" href=/plugins/font-awesome/css/font-awesome.min.css />


    <link rel="stylesheet" id="fortawesome-css" href="/assets/fontawesome-5.15.4/css/all.min.css" type="text/css" />


    <script type="text/javascript" src="/assets/js/jquery.min-3.2.1.js" id="jquery-js"></script>
    <script type="text/javascript" src="/assets/js/content-search.js"  id="content-search-js"></script>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2634092855285462"
     crossorigin="anonymous"></script>

	
    <script>
        

		var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?8450bc732b2a86f7e4aec4ebd9fd8252";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();

        
    </script>
    

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7071W80M2K"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-7071W80M2K');
    </script>

</head>


    <div class="page-container">
	
	<div id="sidebar" class="sticky sidebar-nav fade animate-nav" style="width: 170px">
        
            <div class="modal-dialog h-100 sidebar-nav-inner">
                <div class="sidebar-logo border-bottom border-color">
                    
                    <div class="logo overflow-hidden">
                        <a href="https://ai123.869hr.uk/" class="logo-expanded">
                            <img src="/assets/images/bt8-expand-light.png" height="40" class="logo-light"
                                alt="AI123| ai工具网址导航,ai最新产品">
                            <img src="/assets/images/bt8-expand-dark.png" height="40" class="logo-dark d-none"
                                alt="AI123| ai工具网址导航,ai最新产品">
                        </a>
                        <a href="https://ai123.869hr.uk/" class="logo-collapsed">
                            <img src="/assets/images/bt.png" height="40" class="logo-light"
                                alt="AI123| ai工具网址导航,ai最新产品">
                            <img src="/assets/images/bt.png" height="40" class="logo-dark d-none"
                                alt="AI123| ai工具网址导航,ai最新产品">
                        </a>
                    </div>
                    
                </div>
                <div class="sidebar-menu flex-fill">
                    <div class="sidebar-scroll">
                        <div class="sidebar-menu-inner">
                            <ul>
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#00834a9dd147b04c5d53d4368cdb0b57" class="smooth">
                                            <i class="fas fa-sun fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>本月热门</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#db0311e7ecfedd24d157f0ceb4a0897f" class="smooth">
                                            <i class="fas fa-star-and-crescent fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>热门网站</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#21b5cbb2c769010fec3ce029a5f8a4a3" class="smooth">
                                            <i class="far fa-star fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>国内热门</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#8310718935e8ec25ce0350de01e3f7dc" class="smooth">
                                            <i class="fas fa-phone fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>对话工具</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#d58e850d9115797306c2edf61ac6ddd8" class="smooth">
                                            <i class="fas fa-newspaper fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>写作</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#2a7418a5f8f1ca4e054364a9300657df" class="smooth">
                                            <i class="fas fa-image fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>图像生成</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#7808a68ee1b34dab43011429a12de19e" class="smooth">
                                            <i class="fas fa-image fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>图像处理</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#6729afc51f5ac49a828812fa0eb0c82f" class="smooth">
                                            <i class="fas fa-video fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>音视频</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#e5ce844860451fff3faf3d8f8894971d" class="smooth">
                                            <i class="fas fa-music fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>音乐生成</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#db53804b7d726967c58fcc8c9ca03d27" class="smooth">
                                            <i class="fas fa-language fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>办公</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#47b7af9547e034d28fe6f6d439968ac8" class="smooth">
                                            <i class="fas fa-copy fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>提示词</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#41282bf95e43c64d579757573a03cdde" class="smooth">
                                            <i class="fas fa-code fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>编程</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#fd71852fd52d5e18ef4f9a252f1eac58" class="smooth">
                                            <i class="fas fa-search fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>AI搜索</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#81b1637fbe47625dbdf2094acd3b6683" class="smooth">
                                            <i class="fas fa-language fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>文本翻译</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#2e9ba3fa6e1ed0e9311b3e97f97f9a40" class="smooth">
                                            <i class="fas fa-book fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>学习网站</span>
                                        </a>
                                    </li>
                                    
                                
                            </ul>           
                        </div>
                    </div>
                </div>
                <div class="border-top py-2 border-color">
                    <div class="flex-bottom">
                        <ul>
			    <li id="menu-item-212"
                                 class="menu-item menu-item-type-custom menu-item-object-custom menu-item-212 sidebar-item">
                                 <a href="#friendlink" class="smooth">
                                     <i class="fab fa-staylinked icon-fw icon-lg mr-2"></i>
                                     <span>友情链接</span>
                                 </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>


<div class="flex-fill grid-bg">
    <div class="big-header-banner">
        <div id="header" class="page-header sticky">
            <div class="navbar navbar-expand-md">
                <div class="container-fluid p-0">

                    <a href="" class="navbar-brand d-md-none" title="AI123| ai工具网址导航,ai最新产品">
                        <img src="/assets/images/bt.png" class="logo-light"
                            alt="AI123| ai工具网址导航,ai最新产品">
                        <img src="/assets/images/bt.png" class="logo-dark d-none"
                            alt="AI123| ai工具网址导航,ai最新产品">
                    </a>

                    <div class="collapse navbar-collapse order-2 order-md-1">
                        <div class="header-mini-btn">
                            <label>
                                <input id="mini-button" type="checkbox">
                                <svg viewbox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                                    <path class="line--1" d="M0 40h62c18 0 18-20-17 5L31 55"></path>
                                    <path class="line--2" d="M0 50h80"></path>
                                    <path class="line--3" d="M0 60h62c18 0 18 20-17-5L31 45"></path>
                                </svg>
                            </label>

                        </div>

                        <ul class="navbar-nav site-menu" style="margin-right: 16px;">
                        
			<li >
				<a href="/">
                                    <i class="fa fa-home fa-lg mr-2"></i>
                                    <span>首页</span>
                                </a>
				<ul class="sub-menu">
				
				</ul>
			    </li>
			
			</ul>

                        
                        <div class="rounded-circle weather">
                            <div id="he-plugin-simple" style="display: contents;"></div>
                            <script>WIDGET = {
                                    CONFIG: {
                                        "modules": "01234",
                                        "background": 5,
                                        "tmpColor": "008000",
                                        "tmpSize": 14,
                                        "cityColor": "008000",
                                        "citySize": 14,
                                        "aqiColor": "#008000",
                                        "aqiSize": 14,
                                        "weatherIconSize": 24,
                                        "alertIconSize": 18,
                                        "padding": "10px 10px 10px 10px",
                                        "shadow": "1",
                                        "language": "auto",
                                        "borderRadius": 5,
                                        "fixed": "false",
                                        "vertical": "middle",
                                        "horizontal": "left",
                                        "key": "085791e805a24491b43b06cf58ab31e7"
                                    }
                                }
                            </script>
                            <script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script>
                        </div>
                        
                    </div>

                    <ul class="nav navbar-menu text-xs order-1 order-md-2">
                        
                        
                        <li class="nav-item mr-3 mr-lg-0 d-none d-lg-block">
                            <script>
                                fetch('https://v1.hitokoto.cn')
                                    .then(response => response.json())
                                    .then(data => {
                                    const hitokoto = document.getElementById('hitokoto_text')
                                    hitokoto.href = 'https://hitokoto.cn/?uuid=' + data.uuid
                                    hitokoto.innerText = data.hitokoto
                                    })
                                    .catch(console.error)
                            </script>                           
                            <div id="hitokoto"><a href="#" target="_blank" id="hitokoto_text">疏影横斜水清浅，暗香浮动月黄昏。</a></div>
                        </li>
                        
                        
                        <li class="nav-search ml-3 ml-md-4">
                            <a href="javascript:" data-toggle="modal" data-target="#search-modal"><i
                                    class="iconfont icon-search icon-2x"></i></a>
                        </li>
                        <li class="nav-item d-md-none mobile-menu ml-3 ml-md-4">
                            <a href="javascript:" id="sidebar-switch" data-toggle="modal"
                                data-target="#sidebar"><i class="iconfont icon-classification icon-2x"></i></a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="placeholder" style="height:74px"></div>
    </div>




<body class="page-body boxed-container  io-grey-mode">
    <main role="main" class="flex-shrink-0">
    <div class="container">
        
        <div class="content">
            <style>
    body{
	    background: #f9f9f9;
	}

    h1, h2, h3, h4, h5, h6 {
        margin-top: 1.5rem;
        margin-bottom: 1.5rem;
    }


 
@media (min-width: 1000px) {
  .container, .container-sm {
    max-width: 800px;
  }
}

</style>

<div class="featured-post-content">

    <a href="/digest/" class="featured-post-title">
       AI 文摘
    </a>

</div>

<section class="blog-single">
  <div class="container">
    <div class="row">

      <div class="col-lg-12 order-1 order-lg-2">
        <article class="single-blog">
          <p class="title">StableDiffusion一周年：这份扩散模型编年简史值得拥有</p>
            <br/>
          <ul class="meta">
            <li>
              By <a href=https://ai123.869hr.uk/about>AI123</a>
            </li>
            <li>
              <i class="fa fa-clock-o"></i>
              August 23, 2023 - 2 min read
            </li>
          </ul>

          <div class="_1NCGf">
              <img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtBDnA0ADibNaQ3YoU9IGVzhrzoFefOXHXu7e8icpfRv90iaGvSEdbXFS8OvpW5ibaQBNpNGgbcnVZ3cfw/640?wx_fmt=png" width="640" >
          </div>
            <br>
            <br>
            <br>
          
          <div class="single-blog-content">
            <p>作者： 量子位  来源： <a href="https://mp.weixin.qq.com/s/frtG8V_4CuNn2MjL3N8F-Q">量子位</a></p>
<p>以下文章来源于别有一洞天，作者是来自北京理工大学的硕士研究生赖泽强（Zeqiang Lai）</p>
<p><em>编者按：今年ChatGPT/GPT-4大火，彻底开启了AI新纪元，也点燃了通用人工智能的火花。</em></p>
<p><em>众所周知，要想实现通用人工智能离不开多模态，ChatGPT/GPT-4尽管在语言领域大放异彩，但一直迟迟没有开放多模态功能。文生图这座“金矿”则是属于另一支故事线了，由“扩散模型”开启。</em>**</p>
<p><em>一年前的今天，Stable Diffusion公开发布，集扩散模型之大成，也真正意义上从大众层面开启了AIGC时代。</em></p>
<p><em><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtBDnA0ADibNaQ3YoU9IGVzhrZryBT3BcQzlLic2db40ZaKgJ7Z4ML9GzDtWsblUwgCIgCZeESibdxQjQ/640?wx_fmt=png" alt=""></em></p>
<p><em>而下面这篇文章全面总结了自2020年来扩散模型与AIGC的牵手历程，从问世到Stable Diffusion开源再到最近研究，堪称扩散模型编年简史。</em></p>
<p>####<em><strong><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtBDnA0ADibNaQ3YoU9IGVzhrXvNs2GiaE6uuJ85YUNicibOtu8VthaDZ8THjuDv8mtHdOLPqCd2O1CdSg/640?wx_fmt=png" alt=""></strong></em></p>
<p>####<strong>△</strong> 图片由扩散模型生成，截取自Midjourney showcase</p>
<h4 id="目录">目录</h4>
<p>1、序章</p>
<p>2、生成纪元</p>
<ul>
<li>
<p>“打基础”的2020秋-2021年秋</p>
</li>
<li>
<p>“百花齐放”的2021秋-2022年春</p>
</li>
<li>
<p>“大步迈向大模型时代”：2022春-2022年秋</p>
</li>
</ul>
<p>3、后生成纪元</p>
<ul>
<li>
<p>“军备竞赛启动”：2022秋-2023年春</p>
</li>
<li>
<p>“手慢无”：2023春-至今</p>
</li>
</ul>
<p>4、下一步是什么？</p>
<p>5、冷知识</p>
<h4 id="序章">序章</h4>
<p><strong>AIGC</strong> (Artificial Intelligence Generated Content)这个概念，可以毫不夸张地称之为本年度在人工智能领域内圈内乃至圈外最为火爆的一个话题。</p>
<p>对于一般大众而言，AIGC的热议热潮，应当溯源至去年年底2022年，即<strong>Stable Diffusion</strong> 的开源公布，以及随之而来的一系列借助Stable Diffusion为基础的工作。</p>
<p>这些成果使得人工智能绘画领域呈现出前所未有的高品质创作与创意，而开源工具Stable Diffusion WebUI和ComfyUI与商业化产品Midjourney的问世，则大幅降低了普罗大众使用此类工具的门槛。</p>
<p>从技术角度来看，AI绘画热潮的兴起要归功于<strong>扩散模型</strong> 的引入。然而，作为一项早在2015年于国际机器学习会议（ICML）上提出的理论构想，其初现并未引起广泛的关注。</p>
<p>直至2020年6月，来自加州大学伯克利分校的一篇题为<strong>DDPM</strong> 去噪扩散概率模型的NeurIPS论文，在更加庞大的数据集上展现出与当时最优的<strong>生成对抗网络（GAN）</strong> 模型相媲美的性能，研究人员方才逐渐领悟到扩散模型在内容创作领域所蕴藏的威力与前景。</p>
<h4 id="生成纪元">生成纪元</h4>
<h4 id="打基础的2020秋-2021年秋">“打基础”的2020秋-2021年秋</h4>
<p>自从<strong>DDPM</strong> 问世以后，扩散模型在图像生成领域缓缓地迈向成熟。尽管每个学术会议都会呈现一些相关研究，但这类论文的数量仍不多。</p>
<blockquote>
<p>总的来说，这一阶段研究主要还是在聚焦扩散模型的理论和实践基础上，这不仅包括以DDPM为代表的连续性扩散模型也包括了离散型的扩散模型。当然，离散型和连续性扩散模型都已经在2015的这篇论文中已经出现了🐮</p>
</blockquote>
<h4 id="连续型扩散模型">连续型扩散模型</h4>
<p>回到2020年的十月，斯坦福大学的研究人员Jiaming Song提出了<strong>DDIM</strong> （Diffusion Denoising Implicit Model），在提升了DDPM采样效率的基础上，仅用50步就能达到1000步采样的效果。DDIM不仅实现了高效率的采样方法，其作为确定性的采样方法还为后续的研究开创了一种类似于<strong>GAN Invesion</strong> 的方法，用于实现各种真实图像的编辑与生成。</p>
<p>值得一提的是，DDIM的第一作者Jiaming Song与Yang Song出自同一研究组，而Yang Song则在同一时间段内推动了扩散模型一体两面的另一面，也即<strong>Score-based</strong> 的研究。有趣的是，这两种不同的研究角度也在Yang Song本人在2021年的2月份放出的ICLR一篇论文中得以统一。</p>
<p>接着，来到2021年的二月，OpenAI发布了**“Improved Diffusion”** ：这篇论文提出了后来被广泛采用的Cosine Noise Schedule，Importance sampling，以及Stride Sampling加速采样等技术。</p>
<p>继之而来的，是2021年五月OpenAI所发布的**“Classifier Guidance”** （亦被称为Guided Diffusion）。这篇论文提出了一项重要的策略，即通过基于分类器的引导来指导扩散模型生成图像。借助其他多项改进，扩散模型首次成功击败了生成领域的巨头“GAN”，同时也为OpenAI的<strong>DALLE-2</strong> （一个图像和文本生成模型）的发布奠定了基础。</p>
<p>而后，来到2021年的十二月，DDPM的一作发布了**“Classifier Free Guidance”** ：对“Classifier Guidance”进行了改进，使得扩散模型的引导过程仅需使用扩散模型本身，而不再需要依赖分类器进行实现。这一创新极大地丰富了扩散模型的应用范围与灵活性。</p>
<p>####<strong><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtBDnA0ADibNaQ3YoU9IGVzhrUYDDlsicnqibw5r4ibau8sDsagYhVnmgYxMgrMia9LW2YUwlvhB75XIu0Q/640?wx_fmt=png" alt=""></strong></p>
<p>####<strong>△</strong> 图像截取自Guide Diffusion</p>
<h4 id="离散型扩散模型">离散型扩散模型</h4>
<p>在离散型扩散模型领域，在同一时间，也涌现出了一系列对后续工作具有很大影响的工作，例如：</p>
<ul>
<li>
<p>于2021年2月发布的论文<strong>Multinomial Diffusion</strong> 可谓是最早探索离散扩散模型的研究之一。该论文探讨了离散扩散模型的形式与应用。</p>
</li>
<li>
<p>于2021年7月发布的<strong>D3PM</strong> 几乎可以被视为后续所有离散扩散模型研究的理论基础。这份论文内容之丰富，以至于其中附录的每一个章节都足以构成一篇完整的论文。</p>
</li>
<li>
<p>于2021年7月发布的<strong>Insertion and Deletion Diffusion</strong> 提出了一种非常有趣的加噪方法，但尽管创新，却似乎未在学术界引起太大的震动。</p>
</li>
<li>
<p>于2021年8月发布的<strong>ImageBART</strong> 将离散扩散模型应用于大规模图像生成，然而遗憾的是，它仍然采用自回归模型的方式。</p>
</li>
</ul>
<p>这些离散型扩散模型的探索为图像生成领域带来了新的思路与方法，虽然在某些方面取得了进展，但也有待进一步的发展和完善。</p>
<h4 id="百花齐放的2021秋-2022年春">“百花齐放”的2021秋-2022年春</h4>
<blockquote>
<p>扩散模型采样加速，各类“奇奇怪怪”的Diffusion Model，中等规模文生图。</p>
</blockquote>
<p>时间进入2021年秋，正逢ICLR和CVPR投稿。在本次CVPR中，我们迎来了“Stable Diffusion”的前身“Latent Diffusion”，还有那些为离散Diffusion做大做强的“VQ Diffusion”和“Unleashing Transformers”，以及离散进行到底的“MaskGIT”等一系列杰出的工作。</p>
<p>它们如水面涟漪般将扩散模型的局限性逐步推展，让其在更大尺度、更高分辨率的数据集上展现出令人瞩目的效果，至少从论文的角度来看，成就非凡。</p>
<p>然而，要真正让这些扩散模型在学术界和工业界广泛传播以至于产生出圈的影响力，这个规模还不够，人们还需等待。</p>
<p>与此同时，本次ICLR会议也见证了扩散模型理论上的一个重要里程碑，这是中国研究者为之付出巨大努力的成果。来自浙江大学的**“PNDM”** 和清华朱军团队的**“Analytic-DPM”** ，将扩散模型的采样加速推向极致。</p>
<p>值得自豪的是，<strong>“Analytic-DPM”</strong> 作为唯一一篇大陆单位独立完成的工作，荣获了ICLR 2022最佳论文奖项。当然，国外的Google团队也为大家带来了基于训练的快速采样器**“GGDM”** 和**“Progressive Distillation”** 等创新工作。</p>
<p>除了这些，还有一项非常具有启发性的工作《Label-Efficient Semantic Segmentation with Diffusion Models》，揭示了扩散模型的潜在空间蕴藏着的丰富语义信息。这或许将启发了后续一系列基于使用扩散模型作为backbone以及利用注意力机制的图像编辑技术以及扩散模型在感知领域的应用。</p>
<p>在这个时间节点，扩散模型逐渐走入人们的视野，各大公众平台纷纷推出涉及它的文章，然而事实却是，这类模型仍然主要停留在研究领域，尤其是在做图像生成的圈子里。</p>
<p>主流的深度学习研究人员或许仍然沉浸在<strong>Vision Transformer</strong> 所带来的短暂火热中，他们不知道的是，一场针对扩散模型的军备竞赛即将如同腥风血雨般到来。</p>
<h4 id="大步迈向大模型时代2022春-2022年秋">“大步迈向大模型时代”：2022春-2022年秋</h4>
<blockquote>
<p>Scale up!（放大！）</p>
</blockquote>
<p>2022年的上半年，我们迎来了扩散模型的第一个出圈震撼。</p>
<p>四月，来自OpenAI的<strong>DALLE-2</strong> 横空出世，通过利用扩散模型以及海量数据，DALLE-2呈现出了前所未有的理解和创造能力。</p>
<p>一系列超现实主义作品通过OpenAI的开放API涌现而出，文生图模型也开始在社交平台上引起热烈讨论。</p>
<p>####<strong><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtBDnA0ADibNaQ3YoU9IGVzhrwyZiabKz96EGzOoOnmuC3icd0epxHNvxdibw9LPiasIkfzan25DY2c2AUA/640?wx_fmt=png" alt=""></strong></p>
<p>####<strong>△</strong> 图像截取自DALLE-2</p>
<p>虽然在这个节点，非研究人员熟知的可能还是文生图模型而非背后的扩散模型支柱。不过没关系，DALLE-2的出圈一定程度上引起了更多研究人员对于扩散模型的关注度。</p>
<p>事实上，一场针对扩散模型的军备竞赛已然在NeurIPS 2022进行热身！</p>
<p>在本次会议投稿周期：</p>
<ul>
<li>
<p>DALLE-2开放的不到一个月，来自谷歌的<strong>Imagen</strong> 放出，取代DALLE-2成为了最先进的文生图模型。（荣获NeurIPS 2022 best paper）</p>
</li>
<li>
<p>针对扩散模型设计方案的讨论以及改进的<strong>edm</strong> （荣获NeurIPS 2022 best paper）。</p>
</li>
<li>
<p>Stable Diffusion的基石<strong>Laion-5B</strong> 发布(荣获NeurIPS 2022 best paper）。</p>
</li>
<li>
<p>一系列探索扩散模型扩散形式的探索，<strong>Bit-Diffusion、Variational-Diffusion、Cold-Diffusion、Soft-Diffusion、Non-uniform Diffusion、Retrieval-Augmented Diffusion</strong> 。</p>
</li>
<li>
<p>快速采样的进一步发展：<strong>DPM-Solver、D****FNO</strong> 等。</p>
</li>
<li>
<p>更多的应用：做3D生成的<strong>DreamFusion</strong> （荣获ICLR 2023 Best Paper），做视频生成的<strong>Video Diffusion</strong> ，做图像重建的DDRM等。</p>
</li>
</ul>
<p>在这一阶段，扩散模型本身的理论和设计边界被极大地探索与扩宽，为下半年爆发性出现的下游应用进一步奠定了基础。</p>
<p>####<strong><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtBDnA0ADibNaQ3YoU9IGVzhrD9frwY5fQ47rLfpYc6wcURxhu1ic6UvqE3EFIUHFsyPic4Dhr9Z7zy2A/640?wx_fmt=png" alt=""></strong></p>
<p>####<strong>△</strong> 图片截取自DreamFusion</p>
<h4 id="后生成纪元">后生成纪元</h4>
<h4 id="军备竞赛启动2022秋-2023年春">“军备竞赛启动”：2022秋-2023年春</h4>
<blockquote>
<p>Diffusion Model+Anything！(扩散模型+任何东西！)</p>
</blockquote>
<p>2022年的下半年注定是扩散模型发展最为迅猛和关键的半年。在经过前一年的不懈探索后，扩散模型的理论研究逐渐平稳，研究的方向逐步转向了大规模的应用实践。在这半年，在这段时间里，我们见证了众多领域的突破性应用，包括但不限于：</p>
<ul>
<li>
<p>Image Restoration的爆发应用：Equilibrium Diffusion、Shadow Diffusion、DDNM、Rain Diffusion。</p>
</li>
<li>
<p>Image Perception的初步尝试：DiffusionDet、Pix2Seq-D、DiffusionInst、MAGE、Peekaboo、ODISE、DDPS、DDP。</p>
</li>
<li>
<p>文本生成领域的探索：Diffusion-LM、Diffusion-Seq、DDCap、UniD3。</p>
</li>
<li>
<p>3D生成上的进一步探索：Render3D、Magic3D、Point-E、MeshDiffusion。</p>
</li>
<li>
<p>视频生成的进一步探索：Latent Video Diffusion、Video Fusion</p>
</li>
<li>
<p>医学图像上的探索：MedSegDiff。</p>
</li>
<li>
<p>图像编辑上的探索：</p>
</li>
</ul>
<p>1）Text-driven（文本驱动）：Prompt-to-prompt、Imagic、InstructPix2Pix、Textual Inversion。</p>
<p>2）Subject-driven（对象驱动）：Dreambooth、Paint by Example。</p>
<ul>
<li>Stable Diffusion release🔥</li>
</ul>
<p>1）2022-8-22：initial release（初始版本）<br>
2）2022-12-7：v2.1 release（v2.1发布）</p>
<p>大规模的应用尝试是这一阶段的主旋律，而随着Stable Diffusion的开放，文生图模型再度出圈，扩散模型逐渐被大众所熟知，而后续一系列基于Stable Diffusion的工作也将如雨后春笋般到来。</p>
<p>这些工作涵盖了图像编辑、更为强大的3D生成等领域，将图像生成再度推进，使其更加贴近人类需求。</p>
<p>####<strong><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtBDnA0ADibNaQ3YoU9IGVzhrj2M8LnmlrVGiakdAcLrNnmPMQxicEDl7PjgrZD7amPBejSTId2WStlXw/640?wx_fmt=png" alt=""></strong></p>
<p>####<strong>△</strong> 图片截取自Stable Diffusion v2</p>
<h4 id="手慢无2023春-至今">“手慢无”：2023春-至今</h4>
<p>可控图像生成与编辑是这一阶段的主旋律，这催生了非常非常多的工作，在这个阶段，几乎每天都有新的论文和Demo放出，论文轰炸之快，瞠目结舌。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtBDnA0ADibNaQ3YoU9IGVzhrM5ZnwNvK1VVnkib3Ts6RomEcCmkH2q5AtglMiaMWibHmvrGbCd8fWlxXg/640?wx_fmt=png" alt=""></p>
<p>####<strong><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtBDnA0ADibNaQ3YoU9IGVzhrYZFrFCA8FFQlvlHic7yWQQTyZDTQz1Qo167qdXC0dsGHUrAibmGmibS2A/640?wx_fmt=png" alt=""></strong></p>
<p>####<strong>△</strong> 图片截取自Stable Diffusion 2</p>
<p>总的来说，这一阶段的2D图像的工作主要集中在（包括但不限于）：</p>
<p><strong>1、Controllable Image Generation</strong> （可控的图像生成）</p>
<p>广义上，可控生成包括了下面描述的许多子问题。在这里，我们主要将其限定在如何在文生图的基础加入额外的如语义分割图，深度图做引导的图像生成，这通常也被称之为Grounded Generation、Layout-driven Generation等。</p>
<p>典型的工作包括GLIGEN、ControlNet和T2I Adapter。其中最为火爆的当属ControlNet，它的出现加上基于Lora的定制化，使得扩散模型成为了绘画圈和动漫圈的一个重磅炸弹。</p>
<p>####<strong><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtBDnA0ADibNaQ3YoU9IGVzhrzoFefOXHXu7e8icpfRv90iaGvSEdbXFS8OvpW5ibaQBNpNGgbcnVZ3cfw/640?wx_fmt=png" alt=""></strong></p>
<p>####<strong>△</strong> 图片来自ControlNet****</p>
<p><strong>2、Subject|Concept–driven/Exemplar-based Image Editing</strong> （对象（概念）驱动的/基于示例的图像编辑）</p>
<p>Subject-driven Image Generation这个任务指的是，希望生成的图像包含给定的物体，比如说给一张一只狗的照片，我们希望生成包含这只狗的其他照片。</p>
<p>这个方向最出名的工作当属<strong>DreamBooth</strong> ，它荣获CVPR 2023的best paper Honorable Mention，与此同时，也是火热的Lora定制化的基础算法。除此之外，后续还有一系列工作：</p>
<ul>
<li>
<p>如防止模型生成某些 concept，例如裸体，敏感照片的Erasing Concepts from Diffusion Models</p>
</li>
<li>
<p>在一张图片中同时生成编码多个concept的FastComposer、Mix of Show、Cone2、SVDiff</p>
</li>
<li>
<p>在一张图片中插入新物体的（带Grounding信息）的DreamEdit、Anydoor</p>
</li>
</ul>
<p>####<strong><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtBDnA0ADibNaQ3YoU9IGVzhreViaApqNPyph0AtzXPdibBThfFicJCibh6VLIGnS8iaIZdP9yKE2AW0bkjw/640?wx_fmt=png" alt=""></strong></p>
<p>####<strong>△</strong> 图片截取自Anydoor</p>
<p><strong>3、Text-driven Image Editing</strong> （文本驱动的图像编辑）</p>
<p>基于文本的图像编辑也是一个重要的研究方向。对于这个任务，我们的需求通常是给定一个生成好的图文对，我们编辑文字，再通过一些方法，能够对已经生成的图像进行编辑。例如把“一只狗”换成“一只猫”或者强化某些词的权重等。典型的工作包括：</p>
<ul>
<li>
<p>前一个阶段就已经出现的Prompt-to-prompt、Imagic、InstructPix2Pix、Textual Inversion。</p>
</li>
<li>
<p>这个阶段的新工作pix2pix-zero、SEGA、MastCtrl。</p>
</li>
</ul>
<p>####<strong><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtBDnA0ADibNaQ3YoU9IGVzhr9kf9BQaSjM8MYibYHPW3NlFuZWkVN9RciamFa4hdib7s3ib5jicydsVpTEw/640?wx_fmt=png" alt=""></strong></p>
<p>####<strong>△</strong> 图片来自InstructPix2Pix</p>
<p><strong>4、Image Inpainting/Outpainting</strong> （图像修复/扩展）</p>
<p>Inpainting通常是指将某一块区域的物体移除或者替换成其他物体，outpainting则是希望将图像外围进行补全。扩散模型的出现也极大改善了这类任务的性能，一些典型工作包括Repaint、SmartBrush等。</p>
<p>####<strong><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtBDnA0ADibNaQ3YoU9IGVzhroib7DFcRzial4SOj8Xg2rKpIxB5g30vgcOwkHL5UKzYxSUn5NU39ujjg/640?wx_fmt=png" alt=""></strong></p>
<p>####<strong>△</strong> 图片来自SmartBrush</p>
<p><strong>5、Style Transfer</strong> （风格迁移）</p>
<p>也有一些工作利用扩散模型做风格迁移，如StyleDrop和BLIP-Diffusion。</p>
<p>####<strong><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtBDnA0ADibNaQ3YoU9IGVzhrtibENBX6De4EDicicHatkURYcZcPazvt5O8rO9G4TqCzzO9ZVibRrhZIDA/640?wx_fmt=png" alt=""></strong></p>
<p>####<strong>△</strong> 图片来自StyleDrop</p>
<p><strong>6、Point-based Interactive Image Editing</strong> （基于点的交互式图像编辑）</p>
<p>最近特别火热的<strong>DragGAN</strong> 也带火了交互式图形编辑，Diffusion方向follow的工作有DragDiffusion、DragonDiffusion以及FreeDrag。</p>
<p>####<strong><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtBDnA0ADibNaQ3YoU9IGVzhrtUuiaU4iawFFiaWAiaiaiafyhMFTy0picPJhb27l8ZfKpHbxjSk5S9qQ8DmQg/640?wx_fmt=png" alt=""></strong></p>
<p>####<strong>△</strong> 图片来自DragGAN</p>
<p>这一阶段诞生了非常非常多很有意思的工作，但从使用的技术上基本可以总结为：</p>
<p>Attention Control（即通过修改注意力实现编辑，图文对齐等目的，例如Prompt2Prompt，Attend and Excite等）；</p>
<p>Layer Injection（即通过插入一些层实现额外的输入控制，例如ControlNet）；</p>
<p>Finetue（通过Test-time或Training time的Finetune实现，例如DreamBooth和InstructPix2Pix）；</p>
<p>Textual Inversion（通过修改text embedding）等。</p>
<h4 id="下一步是什么">下一步是什么？</h4>
<p>截止到2023年8月，扩散模型距离DDPM发表已经过去了2年10个月，距离Stable DIffusion发布也过去了1年。</p>
<p>这一年来的高速发展诞生了数不胜数的爆款。基于扩散模型的生成式工具，包括但不限于图像生成，音乐生成，视频生成，3D资产生成，骨骼动作生成等，也逐步走入了设计师以及大众的工作流，并切切实实地改善着广大打工人的工作效率。</p>
<p>尽管如此，当前的诸多工具仍不完美，不管是在学术上的研究还是工程上的落地上仍然具有很多改进的空间。</p>
<p>典型的议题包括但不限于，如何让生成的图像更加符合文本？如何改进模型使得不需要黑魔法般的Prompt也能生成高质量的图片？如何做更加可控的生成，实现个性化物体的加入，指定风格，指定位置？如何对不满意的生成结果进行编辑同时保持前后高度的一致性？如何进一步改善生成式模型对硬件的需求？等。</p>
<p>这里提到的许多议题在现有工作中可能均有涉及，但这些议题的Stable Diffusion时刻可能仍未到来。</p>
<p>过去的一年是激动人心的，ChatGPT和Stable Diffusion的发布为人类迈向通用人工智能（AGI）迈出了重要的一步，而接下来迎接我们的仍将是令人期待和兴奋的后GPT时代。</p>
<p>尽管当前全球面临着诸如经济下行，区域冲突，去全球化等的发展难题，尽管黄仁勋把家里所有煤气灶都交出来也解决不了计算资源短缺的问题，但幸运的是，在这个星球上，我们仍然有着无数出色的研究人员在默默耕耘，在朝着实现AGI的理想奋斗。</p>
<p>或许在不远的将来，AGI真的能成为有生之年，谁知道呢？</p>
<blockquote>
<p>“The Best Way to Predict the Future is to Create it.”——P.Drucker&amp;A.Lincoln.</p>
<p>（“预测未来的最好方法是创造它”——P.德鲁克和A.林肯。）</p>
</blockquote>
<h4 id="冷知识">冷知识</h4>
<p>截止至2023年8月，扩散模型已经斩获各个会议共10篇Best Paper Award、Honorable Mention和Award Nomination:</p>
<p>ICLR 2021(Outstanding Paper Award)-Score-Based Generative Modeling through Stochastic Differential Equations。ICLR 2021杰出论文奖-基于分数的随机微分方程生成建模</p>
<p>ICLR 2022(Outstanding Paper Award)-Analytic-DPM:an Analytic Estimate of the Optimal Reverse Variance in Diffusion Probabilistic Models。ICLR 2022杰出论文奖-解析DPM：扩散概率模型中最优逆方差的分析估计。</p>
<p>NeurIPS 2022(Outstanding Paper Award)-Photorealistic Text-to-Image Diffusion Models with Deep Language Understanding。NeurIPS 2022杰出论文奖-具有深刻语言理解的逼真文本到图像扩散模型。</p>
<p>NeurIPS 2022(Outstanding Paper Award)-Elucidating the Design Space of Diffusion-Based Generative Models。NeurIPS 2022杰出论文奖-阐明基于扩散的生成模型的设计空间</p>
<p>NeurIPS 2022(Outstanding Paper Award)-LAION-5B: An open large-scale dataset for training next-generation image-text models。NeurIPS 2022杰出论文奖-LAION-5B：用于训练下一代图像文本模型的开放大规模数据集。</p>
<p>ICLR 2023(Outstanding Paper Award)-DreamFusion: Text-to-3D using 2D Diffusion。ICLR 2023杰出论文奖-DreamFusion：使用 2D 扩散将文本转换为 3D</p>
<p>CVPR 2023(Award Nomination)-On Distillation of Guided Diffusion Models。CVPR 2023奖项提名-关于引导扩散模型的蒸馏。</p>
<p>CVPR 2023(Honorable Mention)-DreamBooth: Fine Tuning Text-to-Image Diffusion Models for Subject-Driven Generation。CVPR 2023荣誉奖-DreamBooth：微调文本到图像扩散模型以实现主题驱动生成。</p>
<p>SIGGRAPH 2023(Honorable Mention)-GestureDiffuCLIP: Gesture Diffusion Model With CLIP Latents。SIGGRAPH 2023荣誉奖-GestureDiffuCLIP：具有CLIP潜伏的手势扩散模型。</p>
<p>SIGGRAPH 2023(Honorable Mention)-Word-as-image for Semantic Typography。SIGGRAPH 2023荣誉奖-语义排版的单词即图像</p>
<p>—<strong>完</strong>  —</p>
<p><strong>「量子位智库·仿生机器人沙龙」招募中</strong></p>
<p>9月6日，「量子位智库·仿生机器人沙龙」将在北京中关村举办，欢迎全行业仿生机器人玩家参与 ~</p>
<p>点击图片了解详情，企业报名可联系活动负责人王琳玉（微信：iris_wang17，请备注企业+姓名）。沙龙观众通道后续开放，敬请期待 ~</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtBDnA0ADibNaQ3YoU9IGVzhrlL59fm2M3MmjlbGvxoaXTZiaXBRkuhSP2djoomWNt7G9AHQoZGRSLpw/640?wx_fmt=png" alt=""></p>
<p><strong>点这里👇关注我，记得标星哦～</strong></p>
<p><strong>一键三连「分享」、「点赞」和「在看」</strong></p>
<p><strong>科技前沿进展日日相见 ~</strong></p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_svg/g9RQicMD01M0tYoRQT2cMQRmPS5ZDyrrfzeksiay90KaDzlGBH61icqHxmgFKfvfXtVuwTHV740CDLAaXU1LIfZyoJEpYKcRIiaE/640?wx_fmt=svg" alt=""></p>
<p>更多AI工具，参考<a href="https://ai123.869hr.uk/">Github-AI123</a>，<a href="https://ai123.869hr.uk/">国内AI123</a></p>



          </div>

<<<<<<< HEAD

=======
 可扫如下微信二维码加好友
>>>>>>> HEAD@{1}

<p><img src="/images/aitools/2024/03/qrcode_for_gh_dde1b429630d_258.jpg" alt=""></p>

        </article>

      </div>
    </div>
  </div>
</section>
        </div>
    </div>
    </main>




<script type='text/javascript' src='/assets/js/jquery.ui.touch-punch.min-0.2.2.js' id='jqueryui-touch-js'></script>
<script type='text/javascript' src='/assets/js/clipboard.min-5.6.2.js' id='clipboard-js'></script>
<script type='text/javascript' src='/assets/js/tooltip-extend.js' id='iplaycode-nav-js'></script>
<script type='text/javascript' id='popper-js-extra'>
 

var theme = {"ajaxurl":"","addico":"https:\/\/nav.baidu.cn\/wp-content\/themes\/onenav\/images\/add.png","order":"asc","formpostion":"top","defaultclass":"io-grey-mode","isCustomize":"1","icourl":"","icopng":".png","urlformat":"1","customizemax":"10","newWindow":"0","lazyload":"1","minNav":"1","loading":"1","hotWords":"baidu","classColumns":" col-sm-6 col-md-4 col-xl-5a col-xxl-6a ","apikey":"TWpBeU1UVTNOekk1TWpVMEIvZ1M2bFVIQllUMmxsV1dZelkxQTVPVzB3UW04eldGQmxhM3BNWW14bVNtWk4="};
 
</script>
<script type='text/javascript' src='/assets/js/popper.min.js' id='popper-js'></script>
<script type='text/javascript' src='/assets/js/bootstrap.min-4.3.1.js' id='bootstrap-js'></script>
<script type='text/javascript' src='/assets/js/theia-sticky-sidebar-1.5.0.js' id='sidebar-js'></script>
<script type='text/javascript' src='/assets/js/lazyload.min-12.4.0.js' id='lazyload-js'></script>
<script type='text/javascript' src='/assets/js/fancybox.min-3.5.7.js' id='lightbox-js-js'></script>

<script type='text/javascript' src='/assets/js/app-anim.js' id='appanim-js'></script>

<script type="text/javascript">
    $(document).ready(function(){
        var siteWelcome = $('#loading');
        siteWelcome.addClass('close');
        setTimeout(function() {
            siteWelcome.remove();
        }, 600);
    });
</script>
<script>        
    $(document).ready(function(){
        setTimeout(function () {
            if ($('a.smooth[href="' + window.location.hash + '"]')[0]) {
                $('a.smooth[href="' + window.location.hash + '"]').click();
            }else if (window.location.hash != '') {
                $("html, body").animate({
                    scrollTop: $(window.location.hash).offset().top - 90
                }, {
                    duration: 500,
                    easing: "swing"
                });
            }
        }, 300);
        $(document).on('click','a.smooth',function(ev) {
            if($('#sidebar').hasClass('show') && !$(this).hasClass('change-href')){
                $('#sidebar').modal('toggle');
            }
            if($(this).attr("href").substr(0, 1) == "#"){
                $("html, body").animate({
                    scrollTop: $($(this).attr("href")).offset().top - 90
                }, {
                    duration: 500,
                    easing: "swing"
                });
            }
            if($(this).hasClass('go-search-btn')){
                $('#search-text').focus();
            }
            if(!$(this).hasClass('change-href')){
                var menu =  $("a"+$(this).attr("href"));
                menu.click();
                toTarget(menu.parent().parent(),true,true);
            }
        });
        $(document).on('click','a.tab-noajax',function(ev) {
            var url = $(this).data('link');
            if(url)
                $(this).parents('.d-flex.flex-fill.flex-tab').children('.btn-move.tab-move').show().attr('href', url);
            else
                $(this).parents('.d-flex.flex-fill.flex-tab').children('.btn-move.tab-move').hide();
        });
        
    });
</script>

<script>

(function(){
    if(document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") === ''){
        if(new Date().getHours() > 22 || new Date().getHours() < 6){
            document.body.classList.remove('io-black-mode');
            document.body.classList.add('io-grey-mode');
            document.cookie = "night=1;path=/";
            console.log('夜间模式开启');
        }else{
            document.body.classList.remove('night');
            document.cookie = "night=0;path=/";
            console.log('夜间模式关闭');
        }
    }else{
        var night = document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") || '0';
        if(night == '0'){
            document.body.classList.remove('night');
        }else if(night == '1'){
            document.body.classList.add('night');
        }
    }
})();

$("#search-bg").css("background", "linear-gradient(#e2c4c4, #d8d8d8)");   
function switchNightMode(){
    var night = document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") || '0';
    if(night == '0'){
	$("#search-bg").css("background", "linear-gradient(#e2c4c4, #d8d8d8)");
        document.body.classList.remove('io-grey-mode');
        document.body.classList.add('io-black-mode');
        document.cookie = "night=1;path=/"
        console.log(' ');
        $(".switch-dark-mode").attr("data-original-title","日间模式");
        $(".mode-ico").removeClass("icon-night");
        $(".mode-ico").addClass("icon-light");
    }else{
	$("#search-bg").css("background", "linear-gradient(#4f4040, #1b1d1f)");
        document.body.classList.remove('io-black-mode');
        document.body.classList.add('io-grey-mode');
        document.cookie = "night=0;path=/"
        console.log(' ');
        $(".switch-dark-mode").attr("data-original-title","夜间模式");
        $(".mode-ico").removeClass("icon-light");
        $(".mode-ico").addClass("icon-night");
    }
}
</script>


<script>
    var newsContainer = document.getElementById('news-container');
    var newsItems = document.getElementsByClassName('news-item');
    var currentItem = 0;

    setInterval(function() {
        
        newsItems[currentItem].classList.remove('show');
        newsItems[currentItem].style.transform = 'translateY(-20px)';
        
        currentItem = (currentItem + 1) % newsItems.length;
        newsItems[currentItem].style.transform = 'translateY(' + (newsContainer.offsetHeight - 20) + 'px)';
        setTimeout(function() {
            newsItems[currentItem].classList.add('show');
        }, 500);
    }, 8000);
</script>

</body>
</html>


