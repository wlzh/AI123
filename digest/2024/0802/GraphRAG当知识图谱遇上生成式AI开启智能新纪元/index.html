

<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="theme-color" content="#f9f9f9" />

	<title>《GraphRAG：当知识图谱遇上生成式AI，开启智能新纪元》 作者： 匠心格物 来源： 匠心格物 LLM 很强大，但也存在一些明显缺点，比如幻觉问题、可解释性差、抓不住问题重点、隐私和安全问题等。检索增强式生成（RAG）可大幅提升 LLM 的生成质量和结果有用性。 本月初，微软发布最强 RAG 知识库开源方案 GraphRAG，项目上  | AI123| ai工具网址导航,ai最新产品</title>
	<link rel="shortcut icon" href="/assets/images/favicon.png" />
    <meta name="keywords" content="chatgpt,AI,AI聊天,AI文本生成,AI绘画,AI编程,AI电商" />
    <meta name="description" content="AI123 网址导航 | 免费chatgpt 汇集各类先进的人工智能产品，旨在帮助用户更快速地了解和使用这些产品,轻松地浏览不同领域的AI产品，包括语音识别、图像处理、自然语言处理。" />
    
    <meta name="baidu-site-verification" content="codeva-cCAOSG8MBO" />
    
    <link rel="stylesheet" id="block-library-css"
        href="/assets/css/block-library.min-5.6.2.css" type="text/css" media="all" />
    <link rel="stylesheet" id="iconfont-css" href="/assets/css/iconfont-3.03029.1.css"
        type="text/css" media="all" />

    
    <link href="/scss/style.min.css" rel="stylesheet" />
    
		    <link rel="stylesheet" id="iowen-css" href="/assets/css/style-3.03029.1.css"
        type="text/css" media="all" />
    <link rel="stylesheet" id="custom-css" href="/assets/css/custom-style.css"
        type="text/css" media="all" />
		
		<link rel="stylesheet" href=/plugins/font-awesome/css/font-awesome.min.css />


    <link rel="stylesheet" id="fortawesome-css" href="/assets/fontawesome-5.15.4/css/all.min.css" type="text/css" />


    <script type="text/javascript" src="/assets/js/jquery.min-3.2.1.js" id="jquery-js"></script>
    <script type="text/javascript" src="/assets/js/content-search.js"  id="content-search-js"></script>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2073588164294660"
     crossorigin="anonymous"></script>

	
    <script>
        

		var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?8450bc732b2a86f7e4aec4ebd9fd8252";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();

        
    </script>
    

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7071W80M2K"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-7071W80M2K');
    </script>

</head>


    <div class="page-container">
	
	<div id="sidebar" class="sticky sidebar-nav fade animate-nav" style="width: 170px">
        
            <div class="modal-dialog h-100 sidebar-nav-inner">
                <div class="sidebar-logo border-bottom border-color">
                    
                    <div class="logo overflow-hidden">
                        <a href="https://ai123.869hr.uk/" class="logo-expanded">
                            <img src="/assets/images/bt8-expand-light.png" height="40" class="logo-light"
                                alt="AI123| ai工具网址导航,ai最新产品">
                            <img src="/assets/images/bt8-expand-dark.png" height="40" class="logo-dark d-none"
                                alt="AI123| ai工具网址导航,ai最新产品">
                        </a>
                        <a href="https://ai123.869hr.uk/" class="logo-collapsed">
                            <img src="/assets/images/bt.png" height="40" class="logo-light"
                                alt="AI123| ai工具网址导航,ai最新产品">
                            <img src="/assets/images/bt.png" height="40" class="logo-dark d-none"
                                alt="AI123| ai工具网址导航,ai最新产品">
                        </a>
                    </div>
                    
                </div>
                <div class="sidebar-menu flex-fill">
                    <div class="sidebar-scroll">
                        <div class="sidebar-menu-inner">
                            <ul>
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#00834a9dd147b04c5d53d4368cdb0b57" class="smooth">
                                            <i class="fas fa-sun fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>本月热门</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#db0311e7ecfedd24d157f0ceb4a0897f" class="smooth">
                                            <i class="fas fa-star-and-crescent fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>热门网站</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#21b5cbb2c769010fec3ce029a5f8a4a3" class="smooth">
                                            <i class="far fa-star fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>国内热门</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#8310718935e8ec25ce0350de01e3f7dc" class="smooth">
                                            <i class="fas fa-phone fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>对话工具</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#d58e850d9115797306c2edf61ac6ddd8" class="smooth">
                                            <i class="fas fa-newspaper fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>写作</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#2a7418a5f8f1ca4e054364a9300657df" class="smooth">
                                            <i class="fas fa-image fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>图像生成</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#7808a68ee1b34dab43011429a12de19e" class="smooth">
                                            <i class="fas fa-image fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>图像处理</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#6729afc51f5ac49a828812fa0eb0c82f" class="smooth">
                                            <i class="fas fa-video fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>音视频</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#e5ce844860451fff3faf3d8f8894971d" class="smooth">
                                            <i class="fas fa-music fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>音乐生成</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#db53804b7d726967c58fcc8c9ca03d27" class="smooth">
                                            <i class="fas fa-language fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>办公</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#47b7af9547e034d28fe6f6d439968ac8" class="smooth">
                                            <i class="fas fa-copy fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>提示词</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#41282bf95e43c64d579757573a03cdde" class="smooth">
                                            <i class="fas fa-code fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>编程</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#fd71852fd52d5e18ef4f9a252f1eac58" class="smooth">
                                            <i class="fas fa-search fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>AI搜索</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#81b1637fbe47625dbdf2094acd3b6683" class="smooth">
                                            <i class="fas fa-language fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>文本翻译</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#2e9ba3fa6e1ed0e9311b3e97f97f9a40" class="smooth">
                                            <i class="fas fa-book fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>学习网站</span>
                                        </a>
                                    </li>
                                    
                                
                            </ul>           
                        </div>
                    </div>
                </div>
                <div class="border-top py-2 border-color">
                    <div class="flex-bottom">
                        <ul>
			    <li id="menu-item-212"
                                 class="menu-item menu-item-type-custom menu-item-object-custom menu-item-212 sidebar-item">
                                 <a href="#friendlink" class="smooth">
                                     <i class="fab fa-staylinked icon-fw icon-lg mr-2"></i>
                                     <span>友情链接</span>
                                 </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>


<div class="flex-fill grid-bg">
    <div class="big-header-banner">
        <div id="header" class="page-header sticky">
            <div class="navbar navbar-expand-md">
                <div class="container-fluid p-0">

                    <a href="" class="navbar-brand d-md-none" title="AI123| ai工具网址导航,ai最新产品">
                        <img src="/assets/images/bt.png" class="logo-light"
                            alt="AI123| ai工具网址导航,ai最新产品">
                        <img src="/assets/images/bt.png" class="logo-dark d-none"
                            alt="AI123| ai工具网址导航,ai最新产品">
                    </a>

                    <div class="collapse navbar-collapse order-2 order-md-1">
                        <div class="header-mini-btn">
                            <label>
                                <input id="mini-button" type="checkbox">
                                <svg viewbox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                                    <path class="line--1" d="M0 40h62c18 0 18-20-17 5L31 55"></path>
                                    <path class="line--2" d="M0 50h80"></path>
                                    <path class="line--3" d="M0 60h62c18 0 18 20-17-5L31 45"></path>
                                </svg>
                            </label>

                        </div>

                        <ul class="navbar-nav site-menu" style="margin-right: 16px;">
                        
			<li >
				<a href="/">
                                    <i class="fa fa-home fa-lg mr-2"></i>
                                    <span>首页</span>
                                </a>
				<ul class="sub-menu">
				
				</ul>
			    </li>
			
			</ul>

                        
                        <div class="rounded-circle weather">
                            <div id="he-plugin-simple" style="display: contents;"></div>
                            <script>WIDGET = {
                                    CONFIG: {
                                        "modules": "01234",
                                        "background": 5,
                                        "tmpColor": "008000",
                                        "tmpSize": 14,
                                        "cityColor": "008000",
                                        "citySize": 14,
                                        "aqiColor": "#008000",
                                        "aqiSize": 14,
                                        "weatherIconSize": 24,
                                        "alertIconSize": 18,
                                        "padding": "10px 10px 10px 10px",
                                        "shadow": "1",
                                        "language": "auto",
                                        "borderRadius": 5,
                                        "fixed": "false",
                                        "vertical": "middle",
                                        "horizontal": "left",
                                        "key": "085791e805a24491b43b06cf58ab31e7"
                                    }
                                }
                            </script>
                            <script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script>
                        </div>
                        
                    </div>

                    <ul class="nav navbar-menu text-xs order-1 order-md-2">
                        
                        
                        <li class="nav-item mr-3 mr-lg-0 d-none d-lg-block">
                            <script>
                                fetch('https://v1.hitokoto.cn')
                                    .then(response => response.json())
                                    .then(data => {
                                    const hitokoto = document.getElementById('hitokoto_text')
                                    hitokoto.href = 'https://hitokoto.cn/?uuid=' + data.uuid
                                    hitokoto.innerText = data.hitokoto
                                    })
                                    .catch(console.error)
                            </script>                           
                            <div id="hitokoto"><a href="#" target="_blank" id="hitokoto_text">疏影横斜水清浅，暗香浮动月黄昏。</a></div>
                        </li>
                        
                        
                        <li class="nav-search ml-3 ml-md-4">
                            <a href="javascript:" data-toggle="modal" data-target="#search-modal"><i
                                    class="iconfont icon-search icon-2x"></i></a>
                        </li>
                        <li class="nav-item d-md-none mobile-menu ml-3 ml-md-4">
                            <a href="javascript:" id="sidebar-switch" data-toggle="modal"
                                data-target="#sidebar"><i class="iconfont icon-classification icon-2x"></i></a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="placeholder" style="height:74px"></div>
    </div>




<body class="page-body boxed-container  io-grey-mode">
    <main role="main" class="flex-shrink-0">
    <div class="container">
        
        <div class="content">
            <style>
    body{
	    background: #f9f9f9;
	}

    h1, h2, h3, h4, h5, h6 {
        margin-top: 1.5rem;
        margin-bottom: 1.5rem;
    }


 
@media (min-width: 1000px) {
  .container, .container-sm {
    max-width: 800px;
  }
}

</style>

<div class="featured-post-content">

    <a href="/digest/" class="featured-post-title">
       AI 文摘
    </a>

</div>

<section class="blog-single">
  <div class="container">
    <div class="row">

      <div class="col-lg-12 order-1 order-lg-2">
        <article class="single-blog">
          <p class="title">《GraphRAG：当知识图谱遇上生成式AI，开启智能新纪元》</p>
            <br/>
          <ul class="meta">
            <li>
              By <a href=https://ai123.869hr.uk/about>AI123</a>
            </li>
            <li>
              <i class="fa fa-clock-o"></i>
              August 2, 2024 - 2 min read
            </li>
          </ul>

          <div class="_1NCGf">
              <img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/emrIpmMkhwVmtpwhoK34jb2SZialKBjO2qU9VngWrXhYUuech0hNaDCZ2zqWYuxdSmobrgmPIgichEXf8SXKmbCw/640?wx_fmt=png&amp;from=appmsg" width="640" >
          </div>
            <br>
            <br>
            <br>
          
          <div class="single-blog-content">
            <p>作者： 匠心格物  来源： <a href="https://mp.weixin.qq.com/s/aPkCP9JZS3Ssp0hHjju8bA">匠心格物</a></p>
<p>LLM 很强大，但也存在一些明显缺点，比如幻觉问题、可解释性差、抓不住问题重点、隐私和安全问题等。检索增强式生成（RAG）可大幅提升 LLM 的生成质量和结果有用性。</p>
<p>本月初，微软发布最强 RAG 知识库开源方案 GraphRAG，项目上线即爆火，现在星标量已经达到 10.5 k。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/emrIpmMkhwVmtpwhoK34jb2SZialKBjO2Q91ic5pEB1K0IDgaia7tA1ypcpSP2LIJicd21lJ8QBA2382QEY6FvCE9w/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<ul>
<li>
<p>项目地址：https://github.com/microsoft/graphrag</p>
</li>
<li>
<p>官方文档：https://microsoft.github.io/graphrag/</p>
</li>
</ul>
<p>GraphRAG 使用 LLM 生成知识图谱，在对复杂信息进行文档分析时可显著提高问答性能，尤其是在处理私有数据时。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/emrIpmMkhwVmtpwhoK34jb2SZialKBjO284fQia7sQt8GWYiaLOKfk9TolQhz9Hk8Z4icsccibbNUh3J0WFSdtPD92A/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p><em>GraphRAG 和传统 RAG 对比结果</em></p>
<p>现如今，RAG 是一种使用真实世界信息改进 LLM 输出的技术，是大多数基于 LLM 的工具的重要组成部分，一般而言，RAG 使用向量相似性作为搜索，称之为 Baseline RAG（基准RAG）。但 Baseline RAG 在某些情况下表现并不完美。例如：</p>
<ul>
<li>
<p>Baseline RAG 难以将各个点连接起来。当回答问题需要通过共享属性遍历不同的信息片段以提供新的综合见解时，就会发生这种情况；</p>
</li>
<li>
<p>当被要求全面理解大型数据集甚至单个大型文档中的总结语义概念时，Baseline RAG 表现不佳。</p>
</li>
</ul>
<p>微软提出的 GraphRAG 利用 LLM 根据输入的文本库创建一个知识图谱。这个图谱结合社区摘要和图机器学习的输出，在查询时增强提示。GraphRAG 在回答上述两类问题时显示出显著的改进，展现了在处理私有数据集上超越以往方法的性能。</p>
<p>我们正在逐渐认识到这一点：要使用生成式 AI 做一些真正有意义的事情，你就不能只依靠自回归 LLM 来帮你做决定。</p>
<p>我知道你在想什么：「用 RAG 呀。」或者微调，又或者等待 GPT-5。</p>
<p>是的。基于向量的检索增强式生成（RAG）和微调等技术能帮到你。而且它们也确实能足够好地解决某些用例。但有一类用例却会让所有这些技术折戟沉沙。</p>
<p>针对很多问题，基于向量的 RAG（以及微调）的解决方法本质上就是增大正确答案的概率。但是这两种技术都无法提供正确答案的确定程度。它们通常缺乏背景信息，难以与你已经知道的东西建立联系。此外，这些工具也不会提供线索让你了解特定决策的原因。</p>
<p>2012 年，那时候谷歌推出了自己的第二代搜索引擎，并发布了一篇标志性的博客文章《Introducing the Knowledge Graph: things, not strings》。他们发现，如果在执行各种字符串处理之外再使用知识图谱来组织所有网页中用字符串表示的事物，那么有可能为搜索带来飞跃式的提升。</p>
<p>现在，生成式 AI 领域也出现了类似的模式。很多生成式 AI 项目都遇到了瓶颈，其生成结果的质量受限于这一事实：解决方案处理的是字符串，而非事物。</p>
<p>前沿的 AI 工程师和学术研究者们重新发现了谷歌曾经的发现：打破这道瓶颈的秘诀就是知识图谱。换句话说，就是将有关事物的知识引入到基于统计的文本技术中。其工作方式就类似于其它 RAG，只不过除了向量索引外还要调用知识图谱。也就是：GraphRAG！（GraphRAG = 知识图谱 + RAG）</p>
<p>本文的目标是全面且易懂地介绍 GraphRAG。研究表明，如果将你的数据构建成知识图谱并通过 RAG 来使用它，就能为你带来多种强劲优势。有大量研究证明，相比于仅使用普通向量的 RAG，GraphRAG 能更好地回答你向 LLM 提出的大部分乃至全部问题。</p>
<p>单这一项优势，就足以极大地推动人们采用 GraphRAG 了。</p>
<p>但还不止于此；由于在构建应用时数据是可见的，因此其开发起来也更简单。</p>
<p>GraphRAG 的第三个优势是人类和机器都能很好地理解图谱并基于其执行推理。因此，使用 GraphRAG 构建应用会更简单轻松，并得到更好的结果，同时还更便于解释和审计（这对很多行业来说至关重要）。</p>
<p>我相信 GraphRAG 将取代仅向量 RAG，成为大多数用例的默认 RAG 架构。本文将解释原因。</p>
<p>GraphRAG 与 RAG</p>
<p>这两者并不是竞争关系。根本上讲，GraphRAG 就是一种 RAG，只是其检索路径包含知识图谱。下面你会看到，GraphRAG 的核心模式非常简单。其架构与使用向量的 RAG 一样，但其中包含知识图谱层。</p>
<p>GraphRAG 模式</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/emrIpmMkhwVmtpwhoK34jb2SZialKBjO2nKMnpWT6JXnzTKnQyPHWicoiagKct1iaia7wqiatxCSMmyiaGtzFE2Pst5Nw/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<ul>
<li>GraphRAG 的一种常用模式*</li>
</ul>
<p>可以看到，上图中触发了一次图谱查询。其可以选择是否包含向量相似度组件。</p>
<p>下面给出了一种使用 GraphRAG 的常用模式：</p>
<ol>
<li>
<p>执行一次向量搜索或关键词搜索，找到一组初始节点；</p>
</li>
<li>
<p>遍历图谱，带回相关节点的信息；</p>
</li>
</ol>
<p>3.（可选）使用 PageRank 等基于图谱的排名算法对文档进行重新排名</p>
<p>用例不同，使用模式也会不一样。和当今 AI 领域的各个研究方向一样，GraphRAG 也是一个研究丰富的领域，每周都有新发现涌现。</p>
<p>GraphRAG 的生命周期</p>
<p>使用 GraphRAG 的生成式 AI 也遵循其它任意 RAG 应用的模式，一开始有一个「创建图谱」步骤：</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/emrIpmMkhwVmtpwhoK34jb2SZialKBjO2udqmqUicFXC6xEXnbA5xe1LibLQj9s48MJtzhnqyJWsBibPUlevI2uZMw/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<ul>
<li>GraphRAG 的生命周期*</li>
</ul>
<p>创建图谱类似于对文档进行分块并将其加载到向量数据库中。工具的发展进步已经让图谱创建变得相当简单。这里有三个好消息：</p>
<ol>
<li>
<p>图谱有很好的迭代性 —— 你可以从一个「最小可行图谱」开始，然后基于其进行延展。</p>
</li>
<li>
<p>一旦将数据加入到了知识图谱中，就能很轻松地演进它。你可以添加更多类型的数据，从而获得并利用数据网络效应。你还可以提高数据的质量，以提升应用的价值。</p>
</li>
<li>
<p>该领域发展迅速，这就意味着随着工具愈发复杂精妙，图谱创建只会越来越容易轻松。</p>
</li>
</ol>
<p>在之前的图片中加入图谱创建步骤，可以得到如下所示的工作流程：</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/emrIpmMkhwVmtpwhoK34jb2SZialKBjO2tZdnFgVknxkWCDU6iaAfFBL4AmkJXe6IpN6XUpdguiaDDK6zasnNNRsg/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p><em>添加图谱创建步骤</em></p>
<p>下面来看看 GraphRAG 能带来什么好处。</p>
<p>为什么要使用 GraphRAG？</p>
<p>相较于仅向量 RAG，GraphRAG 的优势主要分为三大类：</p>
<ol>
<li>
<p>准确度更高且答案更完整（运行时间 / 生产优势）</p>
</li>
<li>
<p>一旦创建好知识图谱，那么构建和维护 RAG 应用都会更容易（开发时间优势）</p>
</li>
<li>
<p>可解释性、可追溯性和访问控制方面都更好（治理优势）</p>
</li>
</ol>
<p>下面深入介绍这些优势。</p>
<ol>
<li>准确度更高且答案更有用</li>
</ol>
<p>GraphRAG 的第一个优势（也是最直接可见的优势）是其响应质量更高。不管是学术界还是产业界，我们都能看到很多证据支持这一观察。</p>
<p>比如这个来自数据目录公司 Data.world 的示例。2023 年底，他们发布了一份研究报告，表明在 43 个业务问题上，GraphRAG 可将 LLM 响应的准确度平均提升 3 倍。这项基准评测研究给出了知识图谱能大幅提升响应准确度的证据。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/emrIpmMkhwVmtpwhoK34jb2SZialKBjO2obnt4QNmbKeoZTrN7pcibEvHTPeR2vSvXSNwqXMxCxUIvKNNXKRHnlA/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<ul>
<li>知识图谱将 LLM 响应的准确度提升了 54.2 个百分点，也就是大约提升了 3 倍*</li>
</ul>
<p>微软也给出了一系列证据，包括 2024 年 2 月的一篇研究博客《GraphRAG: Unlocking LLM discovery on narrative private data》以及相关的研究论文《From Local to Global: A Graph RAG Approach to Query-Focused Summarization》和软件：https://github.com/microsoft/graphrag（即上文开篇提到的 GraphRAG）。</p>
<p>其中，他们观察到使用向量的基线 RAG 存在以下两个问题：</p>
<ul>
<li>
<p>基线 RAG 难以将点连接起来。为了综合不同的信息来获得新见解，需要通过共享属性遍历不同的信息片段，这时候，基线 RAG 就难以将不同的信息片段连接起来。</p>
</li>
<li>
<p>当被要求全面理解在大型数据集合甚至单个大型文档上归纳总结的语义概念时，基线 RAG 表现不佳。</p>
</li>
</ul>
<p>微软发现：「通过使用 LLM 生成的知识图谱，GraphRAG 可以大幅提升 RAG 的「检索」部分，为上下文窗口填入相关性更高的内容，从而得到更好的答案并获取证据来源。」他们还发现，相比于其它替代方法，GraphRAG 所需的 token 数量可以少 26% 到 97%，因此其不仅能给出更好的答案，而且成本更低，扩展性也更好。</p>
<p>进一步深入准确度方面，我们知道答案正确固然重要，但答案也要有用才行。人们发现，GraphRAG 不仅能让答案更准确，而且还能让答案更丰富、更完整、更有用。</p>
<p>领英近期的论文《Retrieval-Augmented Generation with Knowledge Graphs for Customer Service Question Answering》就是一个出色的范例，其中描述了 GraphRAG 对其客户服务应用的影响。GraphRAG 提升了其客户服务答案的正确性和丰富度，也因此让答案更加有用，还让其客户服务团队解决每个问题的时间中位数降低了 28.6%。</p>
<p>我们也时不时会看到来自学术界和产业界的新示例。比如 Lettria 的 Charles Borderie 就给出了一个「仅向量」与「向量 + GraphRAG」方法的对比示例；其中 GraphRAG 依托于一个基于 LLM 的文本到图谱工作流程，将 10,000 篇金融文章整理成了一个知识图谱：</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/emrIpmMkhwVmtpwhoK34jb2SZialKBjO29vmxte0l6IqqC1S3wicJH5SFaf6ZOXPxqaiabia5mwOxUbqEhiadZQSQSg/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p><em>仅检索器方法与图检索器方法的对比</em></p>
<p>可以看到，相比于使用普通 RAG，使用 GraphRAG 不仅能提升答案的质量，并且其答案的 token 数量也少了三分之一。</p>
<p>再举一个来自 Writer 的例子。他们最近发布了一份基于 RobustQA 框架的 RAG基准评测报告，其中对比了他们的基于 GraphRAG 的方法与其它同类工具。GraphRAG 得到的分数是 86%，明显优于其它方法（在 33% 到 76% 之间），同时还有相近或更好的延迟性能。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/emrIpmMkhwVmtpwhoK34jb2SZialKBjO2QQGxxIZlVLlibUgpC1QEsIkVOXgAnfFRwTb3lUdnDicoWDPwEyhsdbRw/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p><em>RAG 方法的准确度和响应时间评估结果</em></p>
<p>GraphRAG 正在给多种多样的生成式 AI 应用带去助益。知识图谱打开了让生成式 AI 的结果更准确和更有用的道路。</p>
<ol start="2">
<li>数据理解得到提升，迭代速度更快</li>
</ol>
<p>不管是概念上还是视觉上，知识图谱都很直观。探索知识图谱往往能带来新的见解。</p>
<p>很多知识图谱用户都分享了这样的意外收获：一旦投入心力完成了自己的知识图谱，那么它就能以一种意想不到的方式帮助他们构建和调试自己的生成式 AI 应用。部分原因是如果能以图谱的形式看待数据，那便能看到这些应用底层的数据呈现出了一副生动的数据图景。</p>
<p>图谱能让你追溯答案，找到数据，并一路追溯其因果链。</p>
<p>我们来看看上面有关锂短缺的例子。如果你可视化其向量，那么你会得到类似下图的结果，只不过行列数量都更多。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/emrIpmMkhwVmtpwhoK34jb2SZialKBjO2qU9VngWrXhYUuech0hNaDCZ2zqWYuxdSmobrgmPIgichEXf8SXKmbCw/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p><em>向量可视化</em></p>
<p>而如果将数据转换成图谱，则你能以一种向量表示做不到的方式来理解它。</p>
<p>以下是 LlamaIndex 最近的网络研讨会上的一个例子，展示了他们使用「MENTIONS（提及）」关系提取向量化词块（词汇图谱）和 LLM 提取实体（领域图谱）的图谱并将两者联系起来的能力：</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/emrIpmMkhwVmtpwhoK34jb2SZialKBjO2JkfJrl3qUcOH3MhxICvNic8N7SFC5GKJ979d7wUWXyDvIkmMPYcNhicw/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p><em>提取词汇图谱和领域图谱</em></p>
<p>（也有很多使用 Langchain、Haystack 和 SpringAI 等工具的例子。）</p>
<p>你可以看到此图中数据的丰富结构，也能想象其所能带来的新的开发和调试可能性。其中，各个数据都有各自的值，而结构本身也存储和传达了额外的含义，你可将其用于提升应用的智能水平。</p>
<ol start="3">
<li>治理：可解释性、安全及更多</li>
</ol>
<p>生成式 AI 决策的影响越大，你就越需要说服在决策出错时需要最终负责的人。这通常涉及到审计每个决策。这就需要可靠且重复的优良决策记录。但这还不够。在采纳或放弃一个决策时，你还需要解释其背后的原因。</p>
<p>LLM 本身没法很好地做到这一点。是的，你可以参考用于得到该决策的文档。但这些文档并不能解释这个决策本身 —— 更别说 LLM 还会编造参考来源。知识图谱则完全在另一个层面上，能让生成式 AI 的推理逻辑更加明晰，也更容易解释输入。</p>
<p>看一个例子：Lettria 的 Charles 将从 10,000 篇金融文章提取出的实体载入到了一个知识图谱中，并搭配一个 LLM 来执行 GraphRAG。我们看到这确实能提供更好的答案。我们来看看这些数据：</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/emrIpmMkhwVmtpwhoK34jb2SZialKBjO24q4YoXjnT9qDmbRicXiael0k1ukVk4cQ0qPSmdEAnnO6vsfibbNnGvZqQ/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p><em>将从 10,000 篇金融文章提取出的实体载入知识图谱</em></p>
<p>首先，将数据看作图谱。另外，我们也可以导览和查询这些数据，还能随时修正和更新它们。其治理优势在于：查看和审计这些数据的「世界模型」变得简单了很多。相较于使用同一数据的向量版本，使用图谱让最终负责人更可能理解决策背后的原因。</p>
<p>在确保质量方面，如果能将数据放在知识图谱中，则就能更轻松地找到其中的错误和意外并且追溯它们的源头。你还能在图谱中获取来源和置信度信息，然后将其用于计算以及解释。而使用同样数据的仅向量版本根本就无法做到这一点，正如我们之前讨论的那样，一般人（甚至不一般的人）都很难理解向量化的数据。</p>
<p>知识图谱还可以显著增强安全性和隐私性。</p>
<p>在构建原型设计时，安全性和隐私性通常不是很重要，但如果要将其打造成产品，那这就至关重要了。在银行或医疗等受监管的行业，任何员工的数据访问权限都取决于其工作岗位。</p>
<p>不管是 LLM 还是向量数据库，都没有很好的方法来限制数据的访问范围。知识图谱却能提供很好的解决方案，通过权限控制来规范参与者可访问数据库的范围，不让他们看到不允许他们看的数据。下面是一个可在知识图谱中实现细粒度权限控制的简单安全策略：</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/emrIpmMkhwVmtpwhoK34jb2SZialKBjO2YnUmGyafAwKKdTeJU57CVcdx46uIOpCIovqAdnJTXKXnfUDcpOyaAg/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p><em>可在知识图谱中实现的一种简单安全策略</em></p>
<p>创建知识图谱</p>
<p>构建知识图谱需要什么？第一步是了解两种与生成式 AI 应用最相关的图谱。</p>
<p>领域图谱（domain graph）表示的是与当前应用相关的世界模型。这里有一个简单示例：</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/emrIpmMkhwVmtpwhoK34jb2SZialKBjO2pHm31vMeibibgoiaadB074J2t0uZWLLVEnkJqnhJ4WPhM3VianrXrXHafA/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p><em>领域图谱</em></p>
<p>词汇图谱（lexical graph）则是文档结构的图谱。最基本的词汇图谱由词块构成的节点组成：</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/emrIpmMkhwVmtpwhoK34jb2SZialKBjO2wPfjjMtjjxjTNtu2azHTF7fMSIbJiagsZFgiaGnfLpxwXoj7nxmoKsWw/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p><em>词汇图谱</em></p>
<p>人们往往会对其进行扩展，以包含词块、文档对象（比如表格）、章节、段落、页码、文档名称或编号、文集、来源等之间的关系。你还可以将领域图谱和词汇图谱组合到一起，如下所示：</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/emrIpmMkhwVmtpwhoK34jb2SZialKBjO2PHnBCJ7hzGU85YDGuIBPPfWojJXDVrktEGpicb94H8mK3BLSicJCWQJA/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p><em>将领域层和词汇层组合起来</em></p>
<p>词汇图谱的创建很简单，主要就是简单的解析和分块。至于领域图谱，则根据数据来源（来自结构化数据源还是非结构化数据源或者两种来源都有）的不同，有不同的创建路径。幸运的是，从非结构化数据源创建知识图谱的工具正在飞速发展。</p>
<p>举个例子，新的 Neo4j Knowledge Graph Builder 可以使用 PDF 文档、网页、YouTube 视频、维基百科文章来自动创建知识图谱。整个过程非常简单，点几下按钮即可，然后你就能可视化和查询你输入的文本的领域和词汇图谱。这个工具很强大，也很有趣，能极大降低创建知识图谱的门槛。</p>
<p>至于结构化数据（比如你的公司存储的有关客户、产品、地理位置等的结构化数据），则能直接映射成知识图谱。举个例子，对于最常见的存储在关系数据库中的结构化数据，可以使用一些标准工具基于经过验证的可靠规则将关系映射成图谱。</p>
<p>使用知识图谱</p>
<p>有了知识图谱后，就可以做 GraphRAG 了，为此有很多框架可选，比如 LlamaIndex Property Graph Index、Langchain 整合的 Neo4j 以及 Haystack 整合的版本。这个领域发展很快，但现在编程方法正在变得非常简单。</p>
<p>在图谱创建方面也是如此，现在已经出现了 Neo4j Importer（可通过图形化界面将表格数据导入和映射为图谱）和前面提到的 Neo4j Knowledge Graph Builder 等工具。下图总结了构建知识图谱的步骤。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/emrIpmMkhwVmtpwhoK34jb2SZialKBjO2sPc0V9LexlGJCPBll1AgBiciaUNfvVH5tCQ3zUOZRgvlVXr4hUAhh5nQ/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p><em>自动构建用于生成式 AI 的知识图谱</em></p>
<p>使用知识图谱还能将人类语言的问题映射成图谱数据库查询。Neo4j 发布了一款开源工具 NeoConverse，可帮助使用自然语言来查询知识图谱：https://neo4j.com/labs/genai-ecosystem/neoconverse/</p>
<p>虽然开始使用图谱时确实需要花一番功夫来学习，但好消息是随着工具的发展，这会越来越简单。</p>
<p>GraphRAG 在处理私有数据时有哪些具体的应用场景？</p>
<p>GraphRAG 在处理私有数据时的应用场景非常广泛，以下是一些具体的实例：</p>
<p>1.<strong>企业内部知识管理</strong> ：企业可以利用 GraphRAG 从内部文档、报告、通信记录等私有数据中提取知识，构建知识图谱，帮助员工快速找到所需信息，提高工作效率。</p>
<p>2.<strong>客户服务与支持</strong> ：通过分析客户互动记录、产品手册和常见问题解答等私有数据，GraphRAG 能够提供更加精准的客户服务，例如自动回答客户咨询或提供个性化的解决方案。</p>
<p>3.<strong>研究与开发</strong> ：研究机构或企业的研发部门可以使用 GraphRAG 来整理和分析专利、研究论文、实验数据等，以发现新的研究方向或优化现有研究。</p>
<p>4.<strong>个性化医疗</strong> ：医疗机构可以利用 GraphRAG 处理病历、医学文献和临床试验数据等私有信息，为患者提供个性化的治疗方案和建议。</p>
<p>5.<strong>合规性检查与风险管理</strong> ：企业可以应用 GraphRAG 对内部操作流程、合同协议等进行分析，确保业务活动符合法律法规要求，并识别潜在风险。</p>
<p>6.<strong>供应链优化</strong> ：通过分析供应商信息、物流数据、库存记录等私有数据，GraphRAG 可以帮助企业优化供应链管理，提高响应速度和成本效率。</p>
<p>7.<strong>个性化学习平台</strong> ：教育机构可以利用 GraphRAG 从教材、课程内容、学生反馈等数据中提取知识，为学生提供定制化的学习资源和辅导。</p>
<p>8.<strong>市场分析与竞争情报</strong> ：企业可以应用 GraphRAG 分析市场趋势、消费者行为、竞争对手信息等私有数据，以制定更有效的市场策略。</p>
<p>9.<strong>内部审计与监控</strong> ：利用 GraphRAG 对企业内部的财务记录、交易数据等进行深入分析，帮助发现异常模式，加强内部控制。</p>
<p>10.<strong>产品推荐系统</strong> ：电商平台可以利用 GraphRAG 分析用户行为、产品属性、评价信息等，提供更加个性化的商品推荐。</p>
<p>GraphRAG 的强大之处在于其能够理解和推理私有数据中的复杂信息，提供比传统检索增强式生成（RAG）方法更加深入和全面的分析结果。</p>
<p>GraphRAG 在处理私有数据时如何确保数据的安全性和隐私保护？</p>
<p>GraphRAG 在处理私有数据时，确保数据安全性和隐私保护是至关重要的，以下是一些关键措施：</p>
<p>1.<strong>数据访问控制</strong> ：实施严格的访问控制策略，确保只有授权用户才能访问敏感数据。这可以通过用户身份验证和授权机制来实现。</p>
<p>2.<strong>数据加密</strong> ：在数据存储和传输过程中使用强加密算法，以防止未授权访问和数据泄露。</p>
<p>3.<strong>数据匿名化和去标识化</strong> ：在构建知识图谱之前，对敏感信息进行匿名化或去标识化处理，以减少隐私泄露的风险。</p>
<p>4.<strong>数据最小化</strong> ：仅收集和处理完成特定任务所必需的数据，减少数据泄露的可能性。</p>
<p>5.<strong>数据隔离</strong> ：将私有数据与公共数据分开存储和管理，避免潜在的数据交叉风险。</p>
<p>6.<strong>审计和监控</strong> ：定期对数据访问和使用情况进行审计和监控，以便及时发现和响应潜在的安全问题。</p>
<p>7.<strong>合规性检查</strong> ：确保数据处理流程符合相关的数据保护法规和标准，如GDPR或其他地区的隐私法律。</p>
<p>8.<strong>数据生命周期管理</strong> ：明确数据的存储期限，一旦数据不再需要，应安全地删除或归档，避免长期存储带来的风险。</p>
<p>9.<strong>隐私影响评估</strong> ：在部署 GraphRAG 之前，进行隐私影响评估，以识别和减轻数据处理可能带来的隐私风险。</p>
<p>10.<strong>安全意识培训</strong> ：对使用 GraphRAG 的人员进行数据安全和隐私保护的培训，提高他们的安全意识。</p>
<p>11.<strong>技术防护措施</strong> ：使用防火墙、入侵检测系统和其他网络安全工具来保护数据不受恶意攻击。</p>
<p>12.<strong>细粒度权限控制</strong> ：在知识图谱中实现细粒度的权限控制，确保用户只能访问他们需要执行任务的数据。</p>
<p>通过上述措施，GraphRAG 可以在增强LLMs能力的同时，确保私有数据的安全性和隐私得到妥善保护。</p>
<p>总结：GraphRAG 是 RAG 的必定未来</p>
<p>LLM 固有的基于词的计算和语言技能加上基于向量的 RAG 能带来非常好的结果。为了稳定地得到好结果，就必须超越字符串层面，构建词模型之上的世界模型。同样地，谷歌发现为了掌握搜索能力，他们就必须超越单纯的文本分析，绘制出字符串所代表的事物之间的关系。我们开始看到 AI 世界也正在出现同样的模式。这个模式就是 GraphRAG。</p>
<p>技术的发展曲线呈现出 S 型：一项技术达到顶峰后，另一项技术便会推动进步并超越前者。随着生成式 AI 的发展，相关应用的要求也会提升 —— 从高质量答案到可解释性再到对数据访问权限的细粒度控制以及隐私和安全，知识图谱的价值也会随之愈发凸显。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/emrIpmMkhwVmtpwhoK34jb2SZialKBjO2vQRdsEgy4ZCibibvvSCw5MGQDoic9l4Ou0icQbKpkYJ2zXQ7kjCDDfiaxbg/640?wx_fmt=png&amp;from=appmsg" alt=""><em>生成式 AI 的进化</em></p>
<p>你的下一个生成式 AI 应用很可能就会用上知识图谱。</p>
<p>更多AI工具，参考<a href="https://ai123.869hr.uk/">Github-AI123</a>，<a href="https://ai123.869hr.uk/">国内AI123</a></p>



          </div>

可关注我们的公众号：每天AI新工具

<p><img src="/images/aitools/2024/03/qrcode_for_gh_dde1b429630d_258.jpg" alt=""></p>

        </article>

      </div>
    </div>
  </div>
</section>
        </div>
    </div>
    </main>




<script type='text/javascript' src='/assets/js/jquery.ui.touch-punch.min-0.2.2.js' id='jqueryui-touch-js'></script>
<script type='text/javascript' src='/assets/js/clipboard.min-5.6.2.js' id='clipboard-js'></script>
<script type='text/javascript' src='/assets/js/tooltip-extend.js' id='iplaycode-nav-js'></script>
<script type='text/javascript' id='popper-js-extra'>
 

var theme = {"ajaxurl":"","addico":"https:\/\/nav.baidu.cn\/wp-content\/themes\/onenav\/images\/add.png","order":"asc","formpostion":"top","defaultclass":"io-grey-mode","isCustomize":"1","icourl":"","icopng":".png","urlformat":"1","customizemax":"10","newWindow":"0","lazyload":"1","minNav":"1","loading":"1","hotWords":"baidu","classColumns":" col-sm-6 col-md-4 col-xl-5a col-xxl-6a ","apikey":"TWpBeU1UVTNOekk1TWpVMEIvZ1M2bFVIQllUMmxsV1dZelkxQTVPVzB3UW04eldGQmxhM3BNWW14bVNtWk4="};
 
</script>
<script type='text/javascript' src='/assets/js/popper.min.js' id='popper-js'></script>
<script type='text/javascript' src='/assets/js/bootstrap.min-4.3.1.js' id='bootstrap-js'></script>
<script type='text/javascript' src='/assets/js/theia-sticky-sidebar-1.5.0.js' id='sidebar-js'></script>
<script type='text/javascript' src='/assets/js/lazyload.min-12.4.0.js' id='lazyload-js'></script>
<script type='text/javascript' src='/assets/js/fancybox.min-3.5.7.js' id='lightbox-js-js'></script>

<script type='text/javascript' src='/assets/js/app-anim.js' id='appanim-js'></script>

<script type="text/javascript">
    $(document).ready(function(){
        var siteWelcome = $('#loading');
        siteWelcome.addClass('close');
        setTimeout(function() {
            siteWelcome.remove();
        }, 600);
    });
</script>
<script>        
    $(document).ready(function(){
        setTimeout(function () {
            if ($('a.smooth[href="' + window.location.hash + '"]')[0]) {
                $('a.smooth[href="' + window.location.hash + '"]').click();
            }else if (window.location.hash != '') {
                $("html, body").animate({
                    scrollTop: $(window.location.hash).offset().top - 90
                }, {
                    duration: 500,
                    easing: "swing"
                });
            }
        }, 300);
        $(document).on('click','a.smooth',function(ev) {
            if($('#sidebar').hasClass('show') && !$(this).hasClass('change-href')){
                $('#sidebar').modal('toggle');
            }
            if($(this).attr("href").substr(0, 1) == "#"){
                $("html, body").animate({
                    scrollTop: $($(this).attr("href")).offset().top - 90
                }, {
                    duration: 500,
                    easing: "swing"
                });
            }
            if($(this).hasClass('go-search-btn')){
                $('#search-text').focus();
            }
            if(!$(this).hasClass('change-href')){
                var menu =  $("a"+$(this).attr("href"));
                menu.click();
                toTarget(menu.parent().parent(),true,true);
            }
        });
        $(document).on('click','a.tab-noajax',function(ev) {
            var url = $(this).data('link');
            if(url)
                $(this).parents('.d-flex.flex-fill.flex-tab').children('.btn-move.tab-move').show().attr('href', url);
            else
                $(this).parents('.d-flex.flex-fill.flex-tab').children('.btn-move.tab-move').hide();
        });
        
    });
</script>

<script>

(function(){
    if(document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") === ''){
        if(new Date().getHours() > 22 || new Date().getHours() < 6){
            document.body.classList.remove('io-black-mode');
            document.body.classList.add('io-grey-mode');
            document.cookie = "night=1;path=/";
            console.log('夜间模式开启');
        }else{
            document.body.classList.remove('night');
            document.cookie = "night=0;path=/";
            console.log('夜间模式关闭');
        }
    }else{
        var night = document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") || '0';
        if(night == '0'){
            document.body.classList.remove('night');
        }else if(night == '1'){
            document.body.classList.add('night');
        }
    }
})();

$("#search-bg").css("background", "linear-gradient(#e2c4c4, #d8d8d8)");   
function switchNightMode(){
    var night = document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") || '0';
    if(night == '0'){
	$("#search-bg").css("background", "linear-gradient(#e2c4c4, #d8d8d8)");
        document.body.classList.remove('io-grey-mode');
        document.body.classList.add('io-black-mode');
        document.cookie = "night=1;path=/"
        console.log(' ');
        $(".switch-dark-mode").attr("data-original-title","日间模式");
        $(".mode-ico").removeClass("icon-night");
        $(".mode-ico").addClass("icon-light");
    }else{
	$("#search-bg").css("background", "linear-gradient(#4f4040, #1b1d1f)");
        document.body.classList.remove('io-black-mode');
        document.body.classList.add('io-grey-mode');
        document.cookie = "night=0;path=/"
        console.log(' ');
        $(".switch-dark-mode").attr("data-original-title","夜间模式");
        $(".mode-ico").removeClass("icon-light");
        $(".mode-ico").addClass("icon-night");
    }
}
</script>


<script>
    var newsContainer = document.getElementById('news-container');
    var newsItems = document.getElementsByClassName('news-item');
    var currentItem = 0;

    setInterval(function() {
        
        newsItems[currentItem].classList.remove('show');
        newsItems[currentItem].style.transform = 'translateY(-20px)';
        
        currentItem = (currentItem + 1) % newsItems.length;
        newsItems[currentItem].style.transform = 'translateY(' + (newsContainer.offsetHeight - 20) + 'px)';
        setTimeout(function() {
            newsItems[currentItem].classList.add('show');
        }, 500);
    }, 8000);
</script>

</body>
</html>


